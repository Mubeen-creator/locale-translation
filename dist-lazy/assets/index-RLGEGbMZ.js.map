{"version":3,"mappings":"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","names":["suspectProtoRx","suspectConstructorRx","JsonSigRx","jsonParseTransform","key","value","warnKeyDropped","destr","options","_value","error","get","obj","path","i","set","idx","unset","result","p","deepPickUnsafe","paths","t","acc","cur","deepOmitUnsafe","hydrateStore","store","storage","serializer","debug","pick","omit","beforeHydrate","afterHydrate","context","runHooks","fromStorage","deserialized","picked","omitted","persistState","state","toStorage","createPersistence","optionsParser","auto","pinia","persist","originalStore","persistences","_mutation","createPersistedState","x","data","index_default","useEnterpriseI18nStore","defineStore","enterpriseI18n","getSupportedLocales","getLocaleInfo","locale","l","success","locales","commonLocales","observer","localeInfo","targetLocale","date","i18nStore","isDropdownOpen","ref","currentLocaleInfo","computed","toggleDropdown","switchLocale","localeCode","handleClickOutside","event","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_unref","_hoisted_4","_toDisplayString","_hoisted_5","_normalizeClass","_hoisted_6","_Fragment","_renderList","$event","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","$t","auth","useAuthStore","_createVNode","_component_router_link","_cache","LocaleSwitcher","_component_router_view","modules","__vitePreload","LocaleSwitcher$1","n","lazy","normalized","loader","preloadedAssets","appliedAssets","getDomain","url","fullUrl","limitConcurrency","arr","fn","limit","running","results","item","index","preloadAssets","urls","apply","groups","domain","groupPromises","preloadAsset","ext","preloadPromise","resolve","reject","link","err","applyPromise","style","res","rej","script","img","LS_KEY","LS_VER_KEY","appVersion","useSectionsStore","stored","section","activated","preloadFn","promise","toFriendlyName","word","getCompPath","route","role","installSectionActivationGuard","router","preloadSection","startTime","sectionRoutes","routesJson","r","allAssets","componentPromises","compPath","mod","assets","normalizeAssets","assetList","duration","to","from","next","slug","authStore","compModule","e","routingStartTime","fullLoad","sectionsStore","preLoadSections","s","preSection","totalDuration","normalize","getRouteBySlug","cleanPath","parentRoute","getParentRouteDeps","segments","parents","parentPath","parent","routeGuard","user","now","allDeps","deps","roleDeps","val","userValue","componentCache","toRouteRecord","rec","cacheKey","component","routeRecords","createRouter","createWebHistory","navigationStartTime","isNavigating","matchedRoute","initializeApp","app","createApp","App","createPinia","piniaPluginPersistedstate","publicRoutes","authHandler","idToken","accessToken","refreshToken"],"ignoreList":[0,1,2],"sources":["../../node_modules/destr/dist/index.mjs","../../node_modules/deep-pick-omit/dist/index.mjs","../../node_modules/pinia-plugin-persistedstate/dist/index.js","../../src/stores/enterpriseI18n.ts","../../src/components/LocaleSwitcher.vue","../../src/App.vue","../../src/utils/lazy.js","../../src/utils/sectionActivator.js","../../src/stores/sectionStore.js","../../src/router/guards/sectionActivationGuard.js","../../src/router/routeGuard.js","../../src/router/index.js","../../src/main.js"],"sourcesContent":["const suspectProtoRx = /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/;\nconst suspectConstructorRx = /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/;\nconst JsonSigRx = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nfunction jsonParseTransform(key, value) {\n  if (key === \"__proto__\" || key === \"constructor\" && value && typeof value === \"object\" && \"prototype\" in value) {\n    warnKeyDropped(key);\n    return;\n  }\n  return value;\n}\nfunction warnKeyDropped(key) {\n  console.warn(`[destr] Dropping \"${key}\" key to prevent prototype pollution.`);\n}\nfunction destr(value, options = {}) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  if (value[0] === '\"' && value[value.length - 1] === '\"' && value.indexOf(\"\\\\\") === -1) {\n    return value.slice(1, -1);\n  }\n  const _value = value.trim();\n  if (_value.length <= 9) {\n    switch (_value.toLowerCase()) {\n      case \"true\": {\n        return true;\n      }\n      case \"false\": {\n        return false;\n      }\n      case \"undefined\": {\n        return void 0;\n      }\n      case \"null\": {\n        return null;\n      }\n      case \"nan\": {\n        return Number.NaN;\n      }\n      case \"infinity\": {\n        return Number.POSITIVE_INFINITY;\n      }\n      case \"-infinity\": {\n        return Number.NEGATIVE_INFINITY;\n      }\n    }\n  }\n  if (!JsonSigRx.test(value)) {\n    if (options.strict) {\n      throw new SyntaxError(\"[destr] Invalid JSON\");\n    }\n    return value;\n  }\n  try {\n    if (suspectProtoRx.test(value) || suspectConstructorRx.test(value)) {\n      if (options.strict) {\n        throw new Error(\"[destr] Possible prototype pollution\");\n      }\n      return JSON.parse(value, jsonParseTransform);\n    }\n    return JSON.parse(value);\n  } catch (error) {\n    if (options.strict) {\n      throw error;\n    }\n    return value;\n  }\n}\nfunction safeDestr(value, options = {}) {\n  return destr(value, { ...options, strict: true });\n}\n\nexport { destr as default, destr, safeDestr };\n","function get(obj, path) {\n  if (obj == null)\n    return void 0;\n  let value = obj;\n  for (let i = 0; i < path.length; i++) {\n    if (value == null || value[path[i]] == null)\n      return void 0;\n    value = value[path[i]];\n  }\n  return value;\n}\nfunction set(obj, value, path) {\n  if (path.length === 0)\n    return value;\n  const idx = path[0];\n  if (path.length > 1) {\n    value = set(\n      typeof obj !== \"object\" || obj === null || !Object.prototype.hasOwnProperty.call(obj, idx) ? Number.isInteger(Number(path[1])) ? [] : {} : obj[idx],\n      value,\n      Array.prototype.slice.call(path, 1)\n    );\n  }\n  if (Number.isInteger(Number(idx)) && Array.isArray(obj))\n    return obj.slice()[idx];\n  return Object.assign({}, obj, { [idx]: value });\n}\nfunction unset(obj, path) {\n  if (obj == null || path.length === 0)\n    return obj;\n  if (path.length === 1) {\n    if (obj == null)\n      return obj;\n    if (Number.isInteger(path[0]) && Array.isArray(obj))\n      return Array.prototype.slice.call(obj, 0).splice(path[0], 1);\n    const result = {};\n    for (const p in obj)\n      result[p] = obj[p];\n    delete result[path[0]];\n    return result;\n  }\n  if (obj[path[0]] == null) {\n    if (Number.isInteger(path[0]) && Array.isArray(obj))\n      return Array.prototype.concat.call([], obj);\n    const result = {};\n    for (const p in obj)\n      result[p] = obj[p];\n    return result;\n  }\n  return set(\n    obj,\n    unset(\n      obj[path[0]],\n      Array.prototype.slice.call(path, 1)\n    ),\n    [path[0]]\n  );\n}\n\nfunction deepPickUnsafe(obj, paths) {\n  return paths.map((p) => p.split(\".\")).map((p) => [p, get(obj, p)]).filter((t) => t[1] !== void 0).reduce((acc, cur) => set(acc, cur[1], cur[0]), {});\n}\nfunction deepPick(obj, paths) {\n  return deepPickUnsafe(obj, paths);\n}\nfunction deepOmitUnsafe(obj, paths) {\n  return paths.map((p) => p.split(\".\")).reduce((acc, cur) => unset(acc, cur), obj);\n}\nfunction deepOmit(obj, paths) {\n  return deepOmitUnsafe(obj, paths);\n}\n\nexport { deepOmit, deepOmitUnsafe, deepPick, deepPickUnsafe };\n","// src/index.ts\nimport { destr } from \"destr\";\n\n// src/runtime/core.ts\nimport { deepOmitUnsafe, deepPickUnsafe } from \"deep-pick-omit\";\nfunction hydrateStore(store, {\n  storage,\n  serializer,\n  key,\n  debug,\n  pick,\n  omit,\n  beforeHydrate,\n  afterHydrate\n}, context, runHooks = true) {\n  try {\n    if (runHooks)\n      beforeHydrate?.(context);\n    const fromStorage = storage.getItem(key);\n    if (fromStorage) {\n      const deserialized = serializer.deserialize(fromStorage);\n      const picked = pick ? deepPickUnsafe(deserialized, pick) : deserialized;\n      const omitted = omit ? deepOmitUnsafe(picked, omit) : picked;\n      store.$patch(omitted);\n    }\n    if (runHooks)\n      afterHydrate?.(context);\n  } catch (error) {\n    if (debug)\n      console.error(\"[pinia-plugin-persistedstate]\", error);\n  }\n}\nfunction persistState(state, {\n  storage,\n  serializer,\n  key,\n  debug,\n  pick,\n  omit\n}) {\n  try {\n    const picked = pick ? deepPickUnsafe(state, pick) : state;\n    const omitted = omit ? deepOmitUnsafe(picked, omit) : picked;\n    const toStorage = serializer.serialize(omitted);\n    storage.setItem(key, toStorage);\n  } catch (error) {\n    if (debug)\n      console.error(\"[pinia-plugin-persistedstate]\", error);\n  }\n}\nfunction createPersistence(context, optionsParser, auto) {\n  const { pinia, store, options: { persist = auto } } = context;\n  if (!persist)\n    return;\n  if (!(store.$id in pinia.state.value)) {\n    const originalStore = pinia._s.get(store.$id.replace(\"__hot:\", \"\"));\n    if (originalStore)\n      void Promise.resolve().then(() => originalStore.$persist());\n    return;\n  }\n  const persistenceOptions = Array.isArray(persist) ? persist : persist === true ? [{}] : [persist];\n  const persistences = persistenceOptions.map(optionsParser);\n  store.$hydrate = ({ runHooks = true } = {}) => {\n    persistences.forEach((p) => {\n      hydrateStore(store, p, context, runHooks);\n    });\n  };\n  store.$persist = () => {\n    persistences.forEach((p) => {\n      persistState(store.$state, p);\n    });\n  };\n  persistences.forEach((p) => {\n    hydrateStore(store, p, context);\n    store.$subscribe(\n      (_mutation, state) => persistState(state, p),\n      { detached: true }\n    );\n  });\n}\n\n// src/index.ts\nfunction createPersistedState(options = {}) {\n  return function(context) {\n    createPersistence(\n      context,\n      (p) => ({\n        key: (options.key ? options.key : (x) => x)(p.key ?? context.store.$id),\n        debug: p.debug ?? options.debug ?? false,\n        serializer: p.serializer ?? options.serializer ?? {\n          serialize: (data) => JSON.stringify(data),\n          deserialize: (data) => destr(data)\n        },\n        storage: p.storage ?? options.storage ?? window.localStorage,\n        beforeHydrate: p.beforeHydrate,\n        afterHydrate: p.afterHydrate,\n        pick: p.pick,\n        omit: p.omit\n      }),\n      options.auto ?? false\n    );\n  };\n}\nvar index_default = createPersistedState();\nexport {\n  createPersistedState,\n  index_default as default\n};\n","/**\n * Enterprise I18n Store - Pinia Integration\n * \n * Pinia store integration for the enterprise i18n system\n * with reactive state management and comprehensive actions.\n */\n\nimport { defineStore } from 'pinia'\nimport type { Locale, TranslationKey, I18nObserver } from '@/i18n/enterprise/types'\n\nimport { enterpriseI18n } from '@/i18n/enterprise/i18n'\nimport { getSupportedLocales, getLocaleInfo } from '@/i18n/enterprise/config'\n\nimport { I18nStateManager } from '@/i18n/enterprise/state'\n\n// ============================================================================\n// STORE DEFINITION\n// ============================================================================\n\nexport const useEnterpriseI18nStore = defineStore('enterpriseI18n', {\n  state: () => ({\n    // State is managed by I18nStateManager\n    // This store provides reactive access to the state\n  }),\n\n  getters: {\n    // Current locale\n    currentLocale: (): Locale => enterpriseI18n.currentLocale,\n    \n    // Loading state\n    isLoading: (): boolean => enterpriseI18n.isLoading,\n    \n    // Loaded locales\n    loadedLocales: (): Locale[] => Array.from(enterpriseI18n.loadedLocales),\n    \n    // Supported locales\n    supportedLocales: () => getSupportedLocales(),\n    \n    // Current locale info\n    currentLocaleInfo: () => getLocaleInfo(enterpriseI18n.currentLocale),\n    \n    // Check if locale is supported\n    isLocaleSupported: () => (locale: Locale): boolean => \n      enterpriseI18n.supportedLocales.some(l => l.code === locale),\n    \n    // Check if locale is loaded\n    isLocaleLoaded: () => (locale: Locale): boolean => \n      enterpriseI18n.loadedLocales.includes(locale),\n    \n    // Performance metrics\n    metrics: () => enterpriseI18n.getMetrics(),\n    \n    // Error statistics\n    errorStats: () => enterpriseI18n.getErrorStats(),\n    \n    // Cache statistics\n    cacheStats: () => enterpriseI18n.getMetrics(),\n    \n    // Loading state details\n    loadingState: () => enterpriseI18n.isLoading,\n    \n    // Available locales for UI\n    availableLocales: () => getSupportedLocales().map(locale => ({\n      code: locale.code,\n      name: locale.name,\n      nativeName: locale.nativeName,\n      flag: locale.flag,\n      direction: locale.direction\n    }))\n  },\n\n  actions: {\n    // ============================================================================\n    // LOCALE MANAGEMENT\n    // ============================================================================\n\n    /**\n     * Set the current locale\n     */\n    async setLocale(locale: Locale): Promise<boolean> {\n      try {\n        console.log(`[I18nStore] Setting locale to: ${locale}`)\n\n        // Validate locale\n        if (!this.isLocaleSupported(locale)) {\n          throw new Error(`Unsupported locale: ${locale}`)\n        }\n\n        // Set locale using enterprise i18n\n        const success = await enterpriseI18n.setLocale(locale)\n        \n        if (success) {\n          console.log(`[I18nStore] ‚úÖ Locale set successfully: ${locale}`)\n        } else {\n          console.warn(`[I18nStore] ‚ö†Ô∏è Failed to set locale: ${locale}`)\n        }\n\n        return success\n\n      } catch (error) {\n        console.error(`[I18nStore] Error setting locale: ${locale}`, error)\n        throw error\n      }\n    },\n\n    /**\n     * Switch locale with loading indicator\n     */\n    async switchLocale(locale: Locale): Promise<boolean> {\n      try {\n        if (locale === this.currentLocale) {\n          return true // Already current locale\n        }\n\n        console.log(`[I18nStore] Switching locale from ${this.currentLocale} to ${locale}`)\n        \n        return await this.setLocale(locale)\n\n      } catch (error) {\n        console.error(`[I18nStore] Error switching locale: ${locale}`, error)\n        return false\n      }\n    },\n\n    /**\n     * Get translation for a key\n     */\n    getTranslation(key: TranslationKey, locale?: Locale): string {\n      try {\n        return enterpriseI18n.getTranslation(key, locale)\n      } catch (error) {\n        console.warn(`[I18nStore] Error getting translation for key '${key}':`, error)\n        return key // Return key as fallback\n      }\n    },\n\n    // ============================================================================\n    // PRELOADING\n    // ============================================================================\n\n    /**\n     * Preload a specific locale\n     */\n    async preloadLocale(locale: Locale): Promise<void> {\n      try {\n        console.log(`[I18nStore] Preloading locale: ${locale}`)\n        await enterpriseI18n.preloadLocale(locale)\n        console.log(`[I18nStore] ‚úÖ Locale preloaded: ${locale}`)\n      } catch (error) {\n        console.error(`[I18nStore] Error preloading locale '${locale}':`, error)\n      }\n    },\n\n    /**\n     * Preload multiple locales\n     */\n    async preloadLocales(locales: Locale[]): Promise<void> {\n      try {\n        console.log(`[I18nStore] Preloading locales:`, locales)\n        await enterpriseI18n.preloadLocales(locales)\n        console.log(`[I18nStore] ‚úÖ Locales preloaded:`, locales)\n      } catch (error) {\n        console.error(`[I18nStore] Error preloading locales:`, error)\n      }\n    },\n\n    /**\n     * Preload common locales\n     */\n    async preloadCommonLocales(): Promise<void> {\n      try {\n        const commonLocales = ['en', 'vi'] // Common locales\n        await this.preloadLocales(commonLocales)\n      } catch (error) {\n        console.error(`[I18nStore] Error preloading common locales:`, error)\n      }\n    },\n\n    // ============================================================================\n    // CACHE MANAGEMENT\n    // ============================================================================\n\n    /**\n     * Clear all caches\n     */\n    clearCache(): void {\n      try {\n        enterpriseI18n.clearCache()\n        console.log('[I18nStore] ‚úÖ Cache cleared')\n      } catch (error) {\n        console.error('[I18nStore] Error clearing cache:', error)\n      }\n    },\n\n    /**\n     * Get cache statistics\n     */\n    getCacheStats() {\n      return enterpriseI18n.getMetrics()\n    },\n\n    // ============================================================================\n    // METRICS & MONITORING\n    // ============================================================================\n\n    /**\n     * Get performance metrics\n     */\n    getMetrics() {\n      return enterpriseI18n.getMetrics()\n    },\n\n    /**\n     * Get error statistics\n     */\n    getErrorStats() {\n      return enterpriseI18n.getErrorStats()\n    },\n\n    /**\n     * Get comprehensive statistics\n     */\n    getStatistics() {\n      return {\n        metrics: this.getMetrics(),\n        errorStats: this.getErrorStats(),\n        cacheStats: this.getCacheStats(),\n        currentLocale: this.currentLocale,\n        loadedLocales: this.loadedLocales,\n        isLoading: this.isLoading\n      }\n    },\n\n    // ============================================================================\n    // OBSERVER MANAGEMENT\n    // ============================================================================\n\n    /**\n     * Add observer for i18n events\n     */\n    addObserver(observer: I18nObserver): void {\n      enterpriseI18n.addObserver(observer)\n    },\n\n    /**\n     * Remove observer\n     */\n    removeObserver(observer: I18nObserver): void {\n      enterpriseI18n.removeObserver(observer)\n    },\n\n    // ============================================================================\n    // UTILITY METHODS\n    // ============================================================================\n\n    /**\n     * Check if locale is currently loading\n     */\n    isLocaleLoading(locale: Locale): boolean {\n      return enterpriseI18n.isLoading && this.loadedLocales.includes(locale)\n    },\n\n    /**\n     * Get locale display name\n     */\n    getLocaleDisplayName(locale: Locale): string {\n      const localeInfo = getLocaleInfo(locale)\n      return localeInfo ? localeInfo.nativeName : locale\n    },\n\n    /**\n     * Get locale flag\n     */\n    getLocaleFlag(locale: Locale): string {\n      const localeInfo = getLocaleInfo(locale)\n      return localeInfo ? localeInfo.flag : 'üåê'\n    },\n\n    /**\n     * Get locale direction\n     */\n    getLocaleDirection(locale: Locale): 'ltr' | 'rtl' {\n      const localeInfo = getLocaleInfo(locale)\n      return localeInfo ? localeInfo.direction : 'ltr'\n    },\n\n    /**\n     * Format number according to locale\n     */\n    formatNumber(value: number, locale?: Locale): string {\n      const targetLocale = locale || this.currentLocale\n      try {\n        return new Intl.NumberFormat(targetLocale).format(value)\n      } catch (error) {\n        console.warn(`[I18nStore] Error formatting number for locale '${targetLocale}':`, error)\n        return value.toString()\n      }\n    },\n\n    /**\n     * Format date according to locale\n     */\n    formatDate(date: Date, locale?: Locale): string {\n      const targetLocale = locale || this.currentLocale\n      try {\n        return new Intl.DateTimeFormat(targetLocale).format(date)\n      } catch (error) {\n        console.warn(`[I18nStore] Error formatting date for locale '${targetLocale}':`, error)\n        return date.toLocaleDateString()\n      }\n    },\n\n    /**\n     * Format currency according to locale\n     */\n    formatCurrency(value: number, locale?: Locale): string {\n      const targetLocale = locale || this.currentLocale\n      const localeInfo = getLocaleInfo(targetLocale)\n      \n      if (!localeInfo?.currency) {\n        return value.toString()\n      }\n\n      try {\n        return new Intl.NumberFormat(targetLocale, {\n          style: 'currency',\n          currency: localeInfo.currency\n        }).format(value)\n      } catch (error) {\n        console.warn(`[I18nStore] Error formatting currency for locale '${targetLocale}':`, error)\n        return `${value} ${localeInfo.currency}`\n      }\n    },\n\n    // ============================================================================\n    // INITIALIZATION\n    // ============================================================================\n\n    /**\n     * Initialize the store\n     */\n    async initialize(): Promise<void> {\n      try {\n        console.log('[I18nStore] Initializing enterprise i18n store...')\n        await enterpriseI18n.initialize()\n        console.log('[I18nStore] ‚úÖ Enterprise i18n store initialized')\n      } catch (error) {\n        console.error('[I18nStore] Failed to initialize:', error)\n        throw error\n      }\n    },\n\n    /**\n     * Destroy the store\n     */\n    destroy(): void {\n      try {\n        enterpriseI18n.destroy()\n        console.log('[I18nStore] ‚úÖ Enterprise i18n store destroyed')\n      } catch (error) {\n        console.error('[I18nStore] Error destroying store:', error)\n      }\n    }\n  }\n})\n\n// ============================================================================\n// CONVENIENCE EXPORTS\n// ============================================================================\n\nexport const useI18nStore = useEnterpriseI18nStore\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport type {\n  Locale,\n  TranslationKey,\n  I18nObserver\n}\n","<template>\n  <div class=\"locale-switcher\">\n    <div class=\"locale-dropdown\">\n      <button \n        @click=\"toggleDropdown\" \n        class=\"locale-button\"\n        :disabled=\"i18nStore.isLoading\"\n      >\n        <span class=\"locale-flag\">{{ currentLocaleInfo?.flag }}</span>\n        <span class=\"locale-name\">{{ currentLocaleInfo?.name }}</span>\n        <span class=\"locale-arrow\" :class=\"{ 'rotated': isDropdownOpen }\">‚ñº</span>\n      </button>\n\n      <div v-if=\"isDropdownOpen\" class=\"locale-dropdown-menu\">\n        <button\n          v-for=\"locale in i18nStore.supportedLocales\"\n          :key=\"locale.code\"\n          @click=\"switchLocale(locale.code)\"\n          class=\"locale-option\"\n          :class=\"{ 'active': locale.code === i18nStore.currentLocale }\"\n        >\n          <span class=\"locale-flag\">{{ locale.flag }}</span>\n          <span class=\"locale-name\">{{ locale.name }}</span>\n          <span class=\"locale-native\">{{ locale.nativeName }}</span>\n        </button>\n      </div>\n    </div>\n\n    <!-- Loading indicator -->\n    <div v-if=\"i18nStore.isLoading\" class=\"locale-loading\">\n      <span class=\"loading-spinner\"></span>\n      <span class=\"loading-text\">{{ $t('common.loading') }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\nimport { useEnterpriseI18nStore } from '@/stores/enterpriseI18n'\n\nconst i18nStore = useEnterpriseI18nStore()\nconst isDropdownOpen = ref(false)\n\n// Computed properties\nconst currentLocaleInfo = computed(() => i18nStore.currentLocaleInfo)\n\n// Methods\nconst toggleDropdown = () => {\n  isDropdownOpen.value = !isDropdownOpen.value\n}\n\nconst switchLocale = async (localeCode) => {\n  try {\n    await i18nStore.setLocale(localeCode)\n    isDropdownOpen.value = false\n  } catch (error) {\n    console.error('Failed to switch locale:', error)\n  }\n}\n\n// Close dropdown when clicking outside\nconst handleClickOutside = (event) => {\n  if (!event.target.closest('.locale-switcher')) {\n    isDropdownOpen.value = false\n  }\n}\n\n// Lifecycle\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n})\n</script>\n\n<style scoped>\n.locale-switcher {\n  position: relative;\n  display: inline-block;\n}\n\n.locale-dropdown {\n  position: relative;\n}\n\n.locale-button {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 14px;\n}\n\n.locale-button:hover {\n  background: #f9fafb;\n  border-color: #d1d5db;\n}\n\n.locale-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.locale-flag {\n  font-size: 16px;\n}\n\n.locale-name {\n  font-weight: 500;\n}\n\n.locale-arrow {\n  font-size: 10px;\n  transition: transform 0.2s;\n}\n\n.locale-arrow.rotated {\n  transform: rotate(180deg);\n}\n\n.locale-dropdown-menu {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  margin-top: 4px;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 200px;\n}\n\n.locale-option {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n  padding: 12px 16px;\n  border: none;\n  background: none;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  text-align: left;\n}\n\n.locale-option:hover {\n  background: #f9fafb;\n}\n\n.locale-option.active {\n  background: #eff6ff;\n  color: #1d4ed8;\n}\n\n.locale-native {\n  margin-left: auto;\n  font-size: 12px;\n  color: #6b7280;\n}\n\n.locale-loading {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  color: #6b7280;\n  font-size: 14px;\n}\n\n.loading-spinner {\n  width: 16px;\n  height: 16px;\n  border: 2px solid #e5e7eb;\n  border-top: 2px solid #3b82f6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n.loading-text {\n  font-size: 12px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n</style>\n","<script setup>\nimport { useAuthStore } from \"@/stores/useAuthStore\";\nimport LocaleSwitcher from \"@/components/LocaleSwitcher.vue\";\n\nconst auth = useAuthStore();\n\n// Simulate a Creator user for testing fallbacks\n// auth.simulateRole(\"creator\", { onboardingPassed: true, kycPassed: true});\n</script>\n\n<template>\n  <!-- Navigation Bar with Buttons -->\n  <nav\n    style=\"padding: 1rem; background-color: #f0f0f0; display: flex; gap: 1rem; align-items: center; justify-content: space-between\"\n  >\n    <div style=\"display: flex; gap: 1rem;\">\n    <router-link to=\"/sign-up\">\n      <button\n        style=\"\n          padding: 0.5rem 1rem;\n          background-color: #007bff;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        \"\n      >\n        Sign Up\n      </button>\n    </router-link>\n    <router-link to=\"/log-in\">\n      <button\n        style=\"\n          padding: 0.5rem 1rem;\n          background-color: #007bff;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        \"\n      >\n        Log In\n      </button>\n    </router-link>\n    <router-link to=\"/dashboard\">\n      <button\n        style=\"\n          padding: 0.5rem 1rem;\n          background-color: #007bff;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        \"\n      >\n        Dashboard\n      </button>\n    </router-link>\n    <!-- <router-link to=\"/profile\">\n      <button style=\"padding: 0.5rem 1rem; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;\">\n        Profile\n      </button>\n    </router-link> -->\n    <router-link to=\"/discover\">\n      <button\n        style=\"\n          padding: 0.5rem 1rem;\n          background-color: #007bff;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        \"\n      >\n        Discover\n      </button>\n    </router-link>\n    <router-link to=\"/shop\">\n      <button\n        style=\"\n          padding: 0.5rem 1rem;\n          background-color: #007bff;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        \"\n      >\n        Shop\n      </button>\n    </router-link>\n\n    <!-- Button to toggle between creator and customer roles for testing -->\n    <button\n      @click=\"\n        auth.simulateRole('creator', {\n          onboardingPassed: false,\n          kycPassed: false,\n        })\n      \"\n      style=\"\n        padding: 0.5rem 1rem;\n        background-color: #28a745;\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n      \"\n    >\n      Simulate Creator (Incomplete)\n    </button>\n    <button\n      @click=\"auth.simulateRole('customer', { onboardingPassed: true })\"\n      style=\"\n        padding: 0.5rem 1rem;\n        background-color: #28a745;\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n      \"\n          >\n        Simulate Customer (Complete)\n      </button>\n    </div>\n    \n    <!-- Locale Switcher -->\n    <LocaleSwitcher />\n  </nav>\n\n  <!-- Main content -->\n  <router-view />\n</template>\n\n<style scoped>\nnav {\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n}\nbutton:hover {\n  background-color: #0056b3;\n}\n</style>\n","const modules = import.meta.glob(\"/src/components/**/*.vue\");\n\nexport function lazy(path) {\n  if (!path || typeof path !== \"string\") {\n    return () => Promise.reject(new Error(\"lazy(): invalid path\"));\n  }\n  if (path.includes(\"App.vue\")) {\n    return () =>\n      Promise.reject(new Error(\"lazy(): cannot dynamically load App.vue\"));\n  }\n  let normalized = path.replace(/^@\\/?/, \"/src/\");\n  if (!normalized.startsWith(\"/\")) {\n    normalized = `/${normalized}`;\n  }\n  const loader = modules[normalized];\n  if (!loader) {\n    return () =>\n      Promise.reject(\n        new Error(`lazy(): component not found for path ${normalized}`)\n      );\n  }\n  return loader;\n}\n","export const preloadedAssets = new Map();\nexport const appliedAssets = new Set();\n\nfunction getDomain(url) {\n  try {\n    const fullUrl = url.startsWith('http') ? url : new URL(url, location.href).href;\n    return new URL(fullUrl).hostname;\n  } catch {\n    return location.hostname;\n  }\n}\n\nasync function limitConcurrency(arr, fn, limit) {\n  const running = [];\n  const results = [];\n  for (const item of arr) {\n    if (running.length >= limit) {\n      await Promise.race(running);\n    }\n    const p = fn(item).finally(() => {\n      const index = running.indexOf(p);\n      if (index !== -1) running.splice(index, 1);\n    });\n    running.push(p);\n    results.push(p);\n  }\n  return Promise.all(results);\n}\n\nexport async function isSectionActivated(section) {\n  const { useSectionsStore } = await import(\"@/stores/sectionStore\");\n  const sectionsStore = useSectionsStore();\n  const activated = sectionsStore.isActivated(section);\n  if (activated) {\n    console.log(`[CACHE_HIT] Section \"${section}\" is already preloaded.`);\n    return true;\n  }\n  console.log(`[CACHE] Section \"${section}\" not cached yet.`);\n  return false;\n}\n\nexport async function preloadAssets(urls, apply) {\n  if (urls.length === 0) {\n    // console.log(`[ASSETS] No assets to ${apply ? 'preload and apply' : 'prefetch'} (apply=${apply})`);\n    return;\n  }\n  // console.log(`[ASSETS] Starting limited ${apply ? 'preload' : 'prefetch'} for ${urls.length} assets (apply=${apply}, limit=5 per domain)`);\n  const groups = {};\n  urls.forEach((url) => {\n    const domain = getDomain(url);\n    if (!groups[domain]) groups[domain] = [];\n    groups[domain].push(url);\n  });\n  const groupPromises = [];\n  for (const domain in groups) {\n    // console.log(`[DOMAIN] ${apply ? 'Preloading' : 'Prefetching'} ${groups[domain].length} assets for domain \"${domain}\": ${groups[domain].join(\", \")}`);\n    groupPromises.push(limitConcurrency(groups[domain], (url) => preloadAsset(url, apply), 5));\n  }\n  await Promise.all(groupPromises);\n  // console.log(`[ASSETS] Completed limited ${apply ? 'preload' : 'prefetch'} for all assets`);\n}\n\nexport function preloadAsset(url, apply = false) {\n  if (!url) {\n    console.warn(`[${apply ? 'PRELOAD' : 'PREFETCH'}] Skipping invalid asset URL: ${url}`);\n    return Promise.resolve();\n  }\n  if (apply && appliedAssets.has(url)) {\n    // console.log(`[Loader] Already loaded; skipping: ${url}`);\n    return Promise.resolve();\n  }\n  // console.log(`[${apply ? 'PRELOAD' : 'PREFETCH'}] Initiating ${apply ? 'preload' : 'prefetch'} for ${url}`);\n  const ext = url.split(\".\").pop().toLowerCase();\n  let preloadPromise = preloadedAssets.get(url);\n  if (!preloadPromise) {\n    preloadPromise = new Promise((resolve, reject) => {\n      const link = document.createElement(\"link\");\n      link.rel = apply ? \"preload\" : \"prefetch\";\n      link.href = url;\n      if ([\"js\", \"mjs\"].includes(ext)) {\n        link.as = \"script\";\n      } else if (ext === \"css\") {\n        link.as = \"style\";\n      } else if ([\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\", \"webp\"].includes(ext)) {\n        link.as = \"image\";\n      }\n      link.onload = () => {\n        // console.log(`[${apply ? 'PRELOAD' : 'PREFETCH'}] Completed ${apply ? 'preload' : 'prefetch'} for ${url}`);\n        resolve();\n      };\n      link.onerror = reject;\n      document.head.appendChild(link);\n    }).catch((err) => {\n      console.error(`[${apply ? 'PRELOAD' : 'PREFETCH'}] Failed to ${apply ? 'preload' : 'prefetch'} ${url}`, err);\n      preloadedAssets.delete(url);\n      throw err;\n    });\n    preloadedAssets.set(url, preloadPromise);\n  }\n  if (!apply) return preloadPromise;\n  return preloadPromise\n    .then(() => {\n      // console.log(`[APPLY] Applying ${url}`);\n      let applyPromise;\n      if (ext === \"css\") {\n        const style = document.createElement(\"link\");\n        style.rel = \"stylesheet\";\n        style.href = url;\n        document.head.appendChild(style);\n        applyPromise = new Promise((res, rej) => {\n          style.onload = () => {\n            // console.log(`[APPLY] Completed apply for CSS ${url}`);\n            res();\n          };\n          style.onerror = rej;\n        });\n      } else if ([\"js\", \"mjs\"].includes(ext)) {\n        const script = document.createElement(\"script\");\n        script.src = url;\n        script.defer = true;\n        document.head.appendChild(script);\n        applyPromise = new Promise((res, rej) => {\n          script.onload = () => {\n            // console.log(`[APPLY] Completed apply for JS ${url}`);\n            res();\n          };\n          script.onerror = rej;\n        });\n      } else if ([\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\", \"webp\"].includes(ext)) {\n        const img = new Image();\n        img.src = url;\n        applyPromise = new Promise((res, rej) => {\n          img.onload = () => {\n            // console.log(`[APPLY] Completed apply for image ${url}`);\n            res();\n          };\n          img.onerror = rej;\n        });\n      } else {\n        applyPromise = Promise.resolve();\n      }\n      return applyPromise;\n    })\n    .then(() => {\n      appliedAssets.add(url);\n    })\n    .catch((err) => {\n      console.error(`[APPLY] Failed to apply ${url}`, err);\n      throw err;\n    });\n}","// stores/sectionStore.js\nimport { defineStore } from \"pinia\";\nconst LS_KEY = \"sectionsActivated\";\nconst LS_VER_KEY = \"sectionsActivatedVersion\";\nconst appVersion = import.meta.env.VITE_APP_VERSION || \"dev\";\nexport const useSectionsStore = defineStore(\"sections\", {\n  state: () => ({\n    activated: {\n      auth: false,\n      dashboard: false,\n      profile: false,\n      discover: false,\n      shop: false,\n      misc: false,\n    },\n    activating: {},\n  }),\n  actions: {\n    hydrate() {\n      const storedVer = localStorage.getItem(LS_VER_KEY);\n      if (storedVer === appVersion) {\n        const stored = localStorage.getItem(LS_KEY);\n        if (stored) {\n          this.activated = { ...this.activated, ...JSON.parse(stored) };\n          // console.log(\n          //   `[HYDRATE] Restored activated sections: ${JSON.stringify(\n          //     this.activated\n          //   )}`\n          // );\n        } else {\n          console.log(`[HYDRATE] No stored sections found`);\n        }\n      } else {\n        console.log(`[HYDRATE] Version mismatch, resetting activated sections`);\n        this.reset();\n        localStorage.setItem(LS_VER_KEY, appVersion);\n      }\n    },\n    reset() {\n      this.activated = {\n        auth: false,\n        dashboard: false,\n        profile: false,\n        discover: false,\n        shop: false,\n        misc: false,\n      };\n      this.persist();\n    },\n    persist() {\n      localStorage.setItem(LS_KEY, JSON.stringify(this.activated));\n      console.log(\n        `[PERSIST] Sections state saved to localStorage: ${JSON.stringify(\n          this.activated\n        )}`\n      );\n    },\n    markActivated(section) {\n      if (!this.activated[section]) {\n        this.activated[section] = true;\n        console.log(`[SECTION] Marked \"${section}\" as activated`);\n        this.persist();\n      } else {\n        console.log(`[SECTION] \"${section}\" already activated, no change`);\n      }\n    },\n    isActivated(section) {\n      const activated = this.activated[section];\n      console.log(\n        `[SECTION] Checking activation for \"${section}\": ${\n          activated ? \"activated\" : \"not activated\"\n        }`\n      );\n      return activated;\n    },\n    async activateSection(section, preloadFn) {\n      console.log(`[ACTIVATE] Attempting to activate \"${section}\"`);\n      if (this.isActivated(section)) {\n        console.log(`[ACTIVATE] \"${section}\" already activated`);\n        return;\n      }\n      if (this.activating[section]) {\n        console.log(`[ACTIVATE] Waiting for ongoing activation of \"${section}\"`);\n        await this.activating[section];\n        return;\n      }\n      console.log(`[ACTIVATE] Starting activation for \"${section}\"`);\n      const promise = preloadFn()\n        .then(() => {\n          this.markActivated(section);\n        })\n        .catch((err) => {\n          console.error(`[ACTIVATE] Error activating \"${section}\":`, err);\n        })\n        .finally(() => {\n          delete this.activating[section];\n        });\n      this.activating[section] = promise;\n      await promise;\n    },\n  },\n});","// router/guard/sectionActivationGuard.js\nimport { lazy } from \"@/utils/lazy\";\nimport { preloadAsset, preloadAssets } from \"@/utils/sectionActivator\";\nimport { useAuthStore } from \"@/stores/useAuthStore\";\nimport { useSectionsStore } from \"@/stores/sectionStore\";\nimport { enterpriseI18n } from \"@/i18n/enterprise/i18n\";\nimport routesJson from \"@/router/routeConfig.json\";\n\nfunction toFriendlyName(key) {\n  return key\n    .replace(/-/g, \" \")\n    .split(\" \")\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\" \");\n}\n\nfunction getCompPath(route, role) {\n  return (\n    route.customComponentPath?.[role]?.componentPath || route.componentPath\n  );\n}\n\nfunction getEntryForSection(section, role) {\n  const sectionRoutes = routesJson.filter(\n    (r) => r.section === section && !r.redirect\n  );\n  // console.log(\n  //   `[SECTION] Found ${sectionRoutes.length} routes for section \"${section}\"`\n  // );\n  let entryRoute =\n    sectionRoutes.find((r) => !r.inheritConfigFromParent) || sectionRoutes[0];\n  if (!entryRoute) {\n    return null;\n  }\n  return getCompPath(entryRoute, role);\n}\n\nexport function installSectionActivationGuard(router) {\n  async function preloadSection(section, role, apply = false) {\n    console.log(`‚û°Ô∏è Preloading section \"${section}\" (apply=${apply})`);\n    const startTime = performance.now();\n    const sectionRoutes = routesJson.filter(\n      (r) => r.section === section && !r.redirect\n    );\n    console.log(\n      `[SECTION] Found ${\n        sectionRoutes.length\n      } routes to preload in section \"${section}\": ${sectionRoutes\n        .map((r) => r.slug)\n        .join(\", \")}`\n    );\n    const allAssets = new Set();\n    \n    // Translations are now bundled within section files - no separate loading needed\n    \n    const componentPromises = sectionRoutes.map(async (route) => {\n      const compPath = getCompPath(route, role);\n      if (!compPath) {\n        console.warn(\n          `[COMPONENT] No component path for route \"${route.slug}\" in section \"${section}\"`\n        );\n        return;\n      }\n      console.log(\n        `[COMPONENT] Loading component for route \"${route.slug}\" in section \"${section}\": ${compPath}`\n      );\n      try {\n        const mod = await lazy(compPath)();\n        console.log(`[COMPONENT] Loaded component for \"${route.slug}\"`);\n        const assets = normalizeAssets(mod);\n        [...assets.critical, ...assets.high, ...assets.normal].forEach((url) =>\n          allAssets.add(url)\n        );\n      } catch (err) {\n        console.error(\n          `[ERROR] Failed to load component for \"${route.slug}\"`,\n          err\n        );\n      }\n    });\n    await Promise.all(componentPromises);\n    const assetList = [...allAssets];\n    console.log(\n      `[ASSETS] Total unique assets for section \"${section}\": ${\n        assetList.length\n      } [${assetList.join(\", \")}]`\n    );\n    await preloadAssets(assetList, apply);\n    const duration = performance.now() - startTime;\n    console.log(\n      `‚úÖ Preloaded section \"${section}\" in ${duration.toFixed(2)}ms`\n    );\n  }\n\n  router.beforeEach(async (to, from, next) => {\n    const section = to.meta?.section;\n    const slug = to.meta?.slug;\n    if (!section) {\n      console.log(`[ROUTING] No section defined for route \"${to.path}\"`);\n      return next();\n    }\n    const authStore = useAuthStore();\n    if (section === \"dashboard\" && !authStore.currentUser) {\n      console.log(\n        `[ROUTING] Skipping preload for protected section \"${section}\" without user`\n      );\n      return next();\n    }\n    const role =\n      authStore.simulate?.role || authStore.currentUser?.role || \"creator\";\n    console.log(\n      `[ROUTING] Checking route \"${to.path}\", section \"${section}\", role \"${role}\"`\n    );\n    const compPath = getCompPath(to.meta, role);\n    if (!compPath) {\n      console.log(\n        `[ROUTING] No component path for \"${to.path}\", redirecting to /404`\n      );\n      return next(\"/404\");\n    }\n    let compModule;\n    try {\n      console.log(\n        `[COMPONENT] Loading current component for \"${slug}\": ${compPath}`\n      );\n      compModule = await lazy(compPath)();\n      console.log(`[COMPONENT] Loaded current component for \"${slug}\"`);\n      console.log(`[TEMPLATE] Vue template ready for \"${slug}\"`);\n    } catch (e) {\n      console.error(`[ERROR] Failed to load component for \"${slug}\"`, e);\n      return next(\"/404\");\n    }\n    const assets = compModule.assets || { critical: [], high: [], normal: [] };\n    const allAssets = [\n      ...new Set([...assets.critical, ...assets.high, ...assets.normal]),\n    ];\n    console.log(\n      `[ASSETS] Assets for current \"${slug}\": ${JSON.stringify(assets)}`\n    );\n    console.log(\n      `[ASSETS] Total unique assets for current: ${\n        allAssets.length\n      } [${allAssets.join(\", \")}]`\n    );\n    to.meta._assetPromise = preloadAssets(allAssets, true);\n    next();\n  });\n\n  router.afterEach(async (to) => {\n    const section = to.meta?.section;\n    const slug = to.meta?.slug;\n    if (!section) return;\n    const routingStartTime = performance.now();\n    console.log(\n      `\\n[ROUTING] Section activation for \"${section}\" (route \"${to.path}\")`\n    );\n    const fullLoad = new Promise((resolve) => {\n      if (document.readyState === \"complete\") {\n        console.log(\n          `[DOM] Document already fully loaded for \"${toFriendlyName(slug)}\"`\n        );\n        resolve();\n      } else {\n        window.addEventListener(\n          \"load\",\n          () => {\n            console.log(\n              `[DOM] Document fully loaded for \"${toFriendlyName(slug)}\"`\n            );\n            resolve();\n          },\n          { once: true }\n        );\n      }\n    });\n    console.log(\n      `‚úÖ Step 1: Waiting for full page load for \"${toFriendlyName(slug)}\"`\n    );\n    await fullLoad;\n    console.log(\n      `‚úÖ Step 1: Full page load complete for \"${toFriendlyName(slug)}\"`\n    );\n    console.log(\n      `‚úÖ Step 2: Waiting for current assets apply for \"${toFriendlyName(\n        slug\n      )}\"`\n    );\n    await to.meta._assetPromise;\n    console.log(\n      `‚úÖ Step 2: Applied all current assets for \"${toFriendlyName(slug)}\"`\n    );\n    const authStore = useAuthStore();\n    const role =\n      authStore.simulate?.role || authStore.currentUser?.role || \"creator\";\n    const sectionsStore = useSectionsStore();\n    console.log(\n      `‚û°Ô∏è Step 3: Preloading current section \"${toFriendlyName(\n        section\n      )}\" (if not activated)`\n    );\n    await sectionsStore.activateSection(section, () =>\n      preloadSection(section, role, false)\n    );\n    let preLoadSections = to.meta.preLoadSections || [];\n    preLoadSections = [...new Set([...preLoadSections, \"auth\"])].filter(\n      (s) => s !== section\n    );\n    if (preLoadSections.length > 0) {\n      console.log(\n        `‚û°Ô∏è Step 4: Preloading config sections (including auth): ${preLoadSections\n          .map(toFriendlyName)\n          .join(\", \")}`\n      );\n      for (const preSection of preLoadSections) {\n        if (preSection === \"dashboard\" && !authStore.currentUser) {\n          console.log(\n            `‚ôªÔ∏è Skipping preload for \"${toFriendlyName(\n              preSection\n            )}\" (no user)`\n          );\n          continue;\n        }\n        await sectionsStore.activateSection(preSection, () =>\n          preloadSection(preSection, role, false)\n        );\n      }\n    } else {\n      console.log(`‚ôªÔ∏è No additional sections to preload`);\n    }\n    const totalDuration = (performance.now() - routingStartTime).toFixed(2);\n    console.log(\n      `‚ú® Done: \"${toFriendlyName(\n        slug\n      )}\" fully ready (total ${totalDuration}ms)`\n    );\n  });\n}\n\nfunction normalizeAssets(mod) {\n  return mod.assets || { critical: [], high: [], normal: [] };\n}","import { useAuthStore } from \"@/stores/useAuthStore\";\nimport routesJson from \"@/router/routeConfig.json\";\n\n// Normalize path (remove trailing slash, strip query/hash)\nfunction normalize(path) {\n  return path.replace(/\\/+$/, \"\").split(\"?\")[0].split(\"#\")[0] || \"/\";\n}\n\nfunction getRouteBySlug(path) {\n  const cleanPath = normalize(path);\n  let route = routesJson.find(\n    (route) =>\n      normalize(route.slug) === cleanPath ||\n      (route.dynamicRoute &&\n        route.slug.includes(\"/:\") &&\n        cleanPath.match(new RegExp(route.slug.replace(/:[^/]+/g, \"[^/]+\"))))\n  );\nif (route?.inheritConfigFromParent) {   const parentRoute = routesJson.find(r => r.slug === \"/dashboard\");\n\n  route = { ...parentRoute, ...route, requiresAuth: parentRoute.requiresAuth, redirectIfNotAuth: parentRoute.redirectIfNotAuth };\n}\n  return route;\n}\n\nfunction getParentRouteDeps(path) {\n  const segments = normalize(path).split(\"/\");\n  const parents = [];\n  while (segments.length > 1) {\n    segments.pop();\n    const parentPath = segments.join(\"/\") || \"/\";\n    const parent = getRouteBySlug(parentPath);\n    if (parent?.inheritConfigFromParent) {\n      parents.push(parent)};\n  }\n  return parents.reverse();\n}\n\nexport default function routeGuard(to, from, next) {\n  const auth = useAuthStore();\n  const user = auth.simulate || auth.currentUser;\n  console.log(`[GUARD] Navigation request to \"${to.path}\" from \"${from.path}\"`);\n\n  const route = getRouteBySlug(to.path);\n\n\n  // --- 1. Token expiration check ---\n  const now = Math.floor(Date.now() / 1000);\n\n  if(user?.raw?.exp){\n\n    if(now >= user.raw.exp){\n      console.log(\"[GUARD] Token expired -> logging out & redirect to /log-in\")\n      auth.logout();\n      return next(\"/log-in\");\n    }\n  }\n\n  // --- 2. Auth checks before 404 ---\n\n\n  if(route?.requiresAuth) {\n    console.log(`[GUARD] Route ${to.path} requires auth`)\n    if(!user){\n      console.warn(`[GUARD] No user session -> redirect to ${route.redirectIfNotAuth || \"/log-in\"}`)\n      return next(route.redirectIfNotAuth || \"/log-in\");\n    }\n    console.log(`[GUARD] Auth check passed ‚Üí user logged in:`, user);\n  }else{\n    console.log(`[GUARD] Routes does not require auth`)\n  }\n\n\n\n  if(route?.redirectIfLoggedIn && user){\n    if(user){\n    console.warn(`[GUARD] User already logged in -> redirect to ${route.redirectIfLoggedIn}`)\n    \n    return next(route.redirectIfLoggedIn);\n    }else {\n      console.log(`[GUARD] RedirectIfLoggedIn not triggered ‚Üí user not logged in`);\n    }\n\n  }\n\n  // --- 3. Route existence check ---\n  if(!route){\n    console.error(`[GUARD] No matching route for \"${to.path}\" -> redirect to /404`)\n    return next(\"/404\");\n  }\n\n  // --- 4. Role-based restrictions ---\n\n\n  if(route.supportedRoles?.length && ![\"any\", \"all\"].includes(route.supportedRoles[0])){\n    console.log(`[GUARD] Route supports roles: ${route.supportedRoles.join(\", \")}`)\n    if(!route.supportedRoles.includes(user?.role)){\n       console.warn(`[GUARD]  User role \"${user?.role}\" not allowed ‚Üí redirect to /dashboard`);\n      return next(\"/dashboard\");\n    }\n  }\n\n  // --- 5. Dependencies (from parents + self) ---\n  \n const parentDeps = getParentRouteDeps(to.path);\nconst allDeps = [...parentDeps, route];\n\nfor (const r of allDeps) {\n  const deps = r.dependencies || {};\n  const roleDeps = deps.roles?.[user?.role] || {};\n\n  console.log(`[GUARD] üîé Checking dependencies for route \"${r.slug}\" with role=\"${user?.role}\"`);\n\n  // --- Role-based dependencies ---\n  for (const [key, val] of Object.entries(roleDeps)) {\n    const userValue = user?.[key];\n    if (val?.required) {\n      if (userValue) {\n        console.log(`[GUARD][PASS] Role-based dep \"${key}\" required=true, user.${key}=${userValue}`);\n      } else {\n        console.warn(\n          `[GUARD][FAIL] Role-based dep \"${key}\" required=true, but user.${key}=${userValue} ‚Üí redirect to ${val.fallbackSlug || \"/404\"}`\n        );\n        return next(val.fallbackSlug || \"/404\");\n      }\n    } else {\n      console.log(`[GUARD][SKIP] Role-based dep \"${key}\" required=false (no check needed)`);\n    }\n  }\n\n  // --- General dependencies ---\n  for (const [key, val] of Object.entries(deps)) {\n    if (key === \"roles\") continue;\n    const userValue = user?.[key];\n    if (val?.required) {\n      if (userValue) {\n        console.log(`[GUARD][PASS] General dep \"${key}\" required=true, user.${key}=${userValue}`);\n      } else {\n        console.warn(\n          `[GUARD][FAIL] General dep \"${key}\" required=true, but user.${key}=${userValue} ‚Üí redirect to ${val.fallbackSlug || \"/404\"}`\n        );\n        return next(val.fallbackSlug || \"/404\");\n      }\n    } else {\n      console.log(`[GUARD][SKIP] General dep \"${key}\" required=false (no check needed)`);\n    }\n  }\n}\n\n\n\n\n  // --- 6. Allow navigation ---\n  console.log(`[GUARD]  All checks passed ‚Üí allow navigation to \"${to.path}\"`);\n  next();\n}\n","import { createRouter, createWebHistory } from \"vue-router\";\nimport routesJson from \"@/router/routeConfig.json\";\nimport { lazy } from \"@/utils/lazy\";\nimport { installSectionActivationGuard } from \"./guards/sectionActivationGuard\";\nimport routeGuard from \"./routeGuard\";\nimport { useAuthStore } from \"@/stores/useAuthStore\";\n// Route preloader removed - using lazy i18n loading instead\n\n// Cache resolved components to avoid repeated imports\nconst componentCache = new Map();\n\nfunction toRouteRecord(r) {\n  const rec = {\n    path: r.slug,\n    meta: r,\n  };\n  if (r.redirect) {\n    rec.redirect = r.redirect;\n  } else if (r.customComponentPath) {\n    rec.component = async () => {\n      const auth = useAuthStore();\n      const role = auth.simulate?.role || auth.currentUser?.role || \"default\";\n      const compPath = r.customComponentPath[role]?.componentPath;\n      const cacheKey = `${r.slug}:${role}`;\n      if (componentCache.has(cacheKey)) {\n        return componentCache.get(cacheKey);\n      }\n      if (!r._cachedCompPath) {\n        // console.log(\n        //   `[ROUTE] Resolving component for \"${r.slug}\" with role \"${role}\": ${\n        //     compPath || \"NotFound\"\n        //   }`\n        // );\n        r._cachedCompPath = compPath || \"@/components/NotFound.vue\";\n      }\n      const component = compPath\n        ? await lazy(compPath)()\n        : await import(\"@/components/NotFound.vue\");\n      componentCache.set(cacheKey, component);\n      return component;\n    };\n  } else {\n    rec.component = async () => {\n      const cacheKey = r.slug;\n      if (componentCache.has(cacheKey)) {\n        return componentCache.get(cacheKey);\n      }\n      const component = r.componentPath\n        ? await lazy(r.componentPath)()\n        : await import(\"@/components/NotFound.vue\");\n      componentCache.set(cacheKey, component);\n      return component;\n    };\n  }\n  return rec;\n}\n\nconst routeRecords = routesJson.map(toRouteRecord);\nconst router = createRouter({\n  history: createWebHistory(import.meta.env.BASE_URL),\n  routes: routeRecords,\n});\n\nlet navigationStartTime;\nlet isNavigating = false;\n\nrouter.beforeEach((to, from, next) => {\n  navigationStartTime = performance.now();\n  console.log(`[ROUTE] Incoming navigation request: \"${to.path}\"`);\n  console.log(`[CHECK] Looking for matching route configuration...`);\n  const matchedRoute = routeRecords.find((r) => r.path === to.path);\n  console.log(`[ROUTE] Searching route config for path: \"${to.path}\"`);\n  if (!matchedRoute) {\n    console.log(`[404] No route found for \"${to.path}\". Redirecting to /404.`);\n    return next(\"/404\");\n  }\n  console.log(`[FOUND] Route configuration located for \"${to.path}\".`);\n  // console.log(`[CONFIG] Route metadata: ${JSON.stringify(matchedRoute.meta)}`);\n  const section = matchedRoute.meta?.section;\n  if (section) {\n    console.log(\n      `[SECTION] Route \"${to.path}\" belongs to section \"${section}\".`\n    );\n  } else {\n    console.log(`[SECTION] Route \"${to.path}\" does not specify a section.`);\n  }\n  isNavigating = true;\n  next();\n});\n\nrouter.afterEach(async (to) => {\n  if (!isNavigating) return;\n\n  const duration = (performance.now() - navigationStartTime).toFixed(2);\n  console.log(`[DONE] Navigation to \"${to.path}\" finished in ${duration}ms.`);\n\n  // Note: Route preloading removed - using lazy i18n loading instead\n  // Translations will be loaded on-demand when needed\n\n  isNavigating = false;\n});\n\nrouter.beforeEach(routeGuard);\ninstallSectionActivationGuard(router);\n\nexport default router;","import { createApp } from \"vue\";\nimport { createPinia } from \"pinia\";\nimport piniaPluginPersistedstate from \"pinia-plugin-persistedstate\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport { enterpriseI18n } from \"./i18n/enterprise/i18n\";\nimport { useEnterpriseI18nStore } from \"./stores/enterpriseI18n\";\nimport { useAuthStore } from \"@/stores/useAuthStore\";\nimport { authHandler } from \"@/services/authHandler\";\nimport { useSectionsStore } from \"./stores/sectionStore\";\n\nasync function initializeApp() {\n  const app = createApp(App);\n\n  const pinia = createPinia();\n  pinia.use(piniaPluginPersistedstate);\n  app.use(pinia);\n\n  // Initialize enterprise i18n system\n  await enterpriseI18n.initialize();\n\n  const auth = useAuthStore();\n  const sectionsStore = useSectionsStore();\n  const i18nStore = useEnterpriseI18nStore();\n\n  auth.refreshFromStorage();\n  sectionsStore.hydrate();\n\n  // Wait for router to be ready before restoring session\n  router.isReady().then(() => {\n    const publicRoutes = [\n      \"/log-in\",\n      \"/sign-up\",\n      \"/lost-password\",\n      \"/reset-password\",\n      \"/confirm-email\",\n      \"/\",\n    ];\n    if (!publicRoutes.includes(router.currentRoute.value.path)) {\n      authHandler\n        .restoreSession()\n        .then(({ idToken, accessToken, refreshToken }) => {\n          console.log(\"[MAIN] Session restored, setting token\");\n          localStorage.setItem(\"idToken\", idToken);\n          localStorage.setItem(\"accessToken\", accessToken);\n          localStorage.setItem(\"refreshToken\", refreshToken);\n          auth.setTokenAndDecode(idToken);\n          auth.startTokenRefreshLoop();\n        })\n        .catch((err) => {\n          console.log(\"[MAIN] Session restoration failed:\", err.message || err);\n          auth.logout();\n          if (!publicRoutes.includes(router.currentRoute.value.path)) {\n            router.push(\"/log-in\");\n          }\n        });\n    } else {\n      console.log(\n        \"[MAIN] Skipping session restoration on public route:\",\n        router.currentRoute.value.path\n      );\n    }\n  });\n\n  app.use(router);\n  app.use(enterpriseI18n.vueI18nInstance);\n  app.mount(\"#app\");\n}\n\n// Initialize the app\ninitializeApp().catch(console.error);\n"],"file":"assets/index-RLGEGbMZ.js"}