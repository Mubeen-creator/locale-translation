const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NavBar-CA6JnITL.js","assets/section-auth-CnTxakFq.js","assets/locale-en-BuX2Q2_A.js","assets/locale-vi-Bg0idzRT.js","assets/translation-utils-KDPW9T7Q.js","assets/section-dashboard-C2kUarfu.js","assets/section-dashboard-DNnu8csn.css","assets/NavBar-DA1KUzTM.css","assets/section-misc-D24dFHj8.js","assets/_username-CzQ0MxWy.js","assets/section-discover-BhOJSphT.js","assets/section-profile-BNgyh5OU.js","assets/section-shop-DCIUJTGF.js"])))=>i.map(i=>d[i]);
import{i as B,j as k,h as m,k as w,l as ce,m as ie,b as de,n as ue,c as S,a as g,p as V,e as I,t as y,q as F,F as W,s as le,o as A,d as L,r as q,f as P,w as C,v as pe,x as he,y as me,z as ge,A as fe}from"./section-auth-CnTxakFq.js";import{_ as Y}from"./section-dashboard-C2kUarfu.js";import"./locale-en-BuX2Q2_A.js";import"./locale-vi-Bg0idzRT.js";import"./translation-utils-KDPW9T7Q.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const ve=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,_e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,be=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Pe(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){ye(e);return}return t}function ye(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Ee(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const o=e.trim();if(o.length<=9)switch(o.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!be.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(ve.test(e)||_e.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Pe)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function Se(e,t){if(e==null)return;let o=e;for(let r=0;r<t.length;r++){if(o==null||o[t[r]]==null)return;o=o[t[r]]}return o}function N(e,t,o){if(o.length===0)return t;const r=o[0];return o.length>1&&(t=N(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,r)?Number.isInteger(Number(o[1]))?[]:{}:e[r],t,Array.prototype.slice.call(o,1))),Number.isInteger(Number(r))&&Array.isArray(e)?e.slice()[r]:Object.assign({},e,{[r]:t})}function Q(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const o={};for(const r in e)o[r]=e[r];return delete o[t[0]],o}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const o={};for(const r in e)o[r]=e[r];return o}return N(e,Q(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function X(e,t){return t.map(o=>o.split(".")).map(o=>[o,Se(e,o)]).filter(o=>o[1]!==void 0).reduce((o,r)=>N(o,r[1],r[0]),{})}function Z(e,t){return t.map(o=>o.split(".")).reduce((o,r)=>Q(o,r),e)}function U(e,{storage:t,serializer:o,key:r,debug:n,pick:s,omit:a,beforeHydrate:c,afterHydrate:l},u,h=!0){try{h&&c?.(u);const p=t.getItem(r);if(p){const i=o.deserialize(p),f=s?X(i,s):i,v=a?Z(f,a):f;e.$patch(v)}h&&l?.(u)}catch(p){n&&console.error("[pinia-plugin-persistedstate]",p)}}function M(e,{storage:t,serializer:o,key:r,debug:n,pick:s,omit:a}){try{const c=s?X(e,s):e,l=a?Z(c,a):c,u=o.serialize(l);t.setItem(r,u)}catch(c){n&&console.error("[pinia-plugin-persistedstate]",c)}}function Ae(e,t,o){const{pinia:r,store:n,options:{persist:s=o}}=e;if(!s)return;if(!(n.$id in r.state.value)){const l=r._s.get(n.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const c=(Array.isArray(s)?s:s===!0?[{}]:[s]).map(t);n.$hydrate=({runHooks:l=!0}={})=>{c.forEach(u=>{U(n,u,e,l)})},n.$persist=()=>{c.forEach(l=>{M(n.$state,l)})},c.forEach(l=>{U(n,l,e),n.$subscribe((u,h)=>M(h,l),{detached:!0})})}function Ie(e={}){return function(t){Ae(t,o=>({key:(e.key?e.key:r=>r)(o.key??t.store.$id),debug:o.debug??e.debug??!1,serializer:o.serializer??e.serializer??{serialize:r=>JSON.stringify(r),deserialize:r=>Ee(r)},storage:o.storage??e.storage??window.localStorage,beforeHydrate:o.beforeHydrate,afterHydrate:o.afterHydrate,pick:o.pick,omit:o.omit}),e.auto??!1)}}var Le=Ie();const ee=B("enterpriseI18n",{state:()=>({}),getters:{currentLocale:()=>m.currentLocale,isLoading:()=>m.isLoading,loadedLocales:()=>Array.from(m.loadedLocales),supportedLocales:()=>k(),currentLocaleInfo:()=>w(m.currentLocale),isLocaleSupported:()=>e=>m.supportedLocales.some(t=>t.code===e),isLocaleLoaded:()=>e=>m.loadedLocales.includes(e),metrics:()=>m.getMetrics(),errorStats:()=>m.getErrorStats(),cacheStats:()=>m.getMetrics(),loadingState:()=>m.isLoading,availableLocales:()=>k().map(e=>({code:e.code,name:e.name,nativeName:e.nativeName,flag:e.flag,direction:e.direction}))},actions:{async setLocale(e){try{if(console.log(`[I18nStore] Setting locale to: ${e}`),!this.isLocaleSupported(e))throw new Error(`Unsupported locale: ${e}`);const t=await m.setLocale(e);return t?console.log(`[I18nStore] ✅ Locale set successfully: ${e}`):console.warn(`[I18nStore] ⚠️ Failed to set locale: ${e}`),t}catch(t){throw console.error(`[I18nStore] Error setting locale: ${e}`,t),t}},async switchLocale(e){try{return e===this.currentLocale?!0:(console.log(`[I18nStore] Switching locale from ${this.currentLocale} to ${e}`),await this.setLocale(e))}catch(t){return console.error(`[I18nStore] Error switching locale: ${e}`,t),!1}},getTranslation(e,t){try{return m.getTranslation(e,t)}catch(o){return console.warn(`[I18nStore] Error getting translation for key '${e}':`,o),e}},async preloadLocale(e){try{console.log(`[I18nStore] Preloading locale: ${e}`),await m.preloadLocale(e),console.log(`[I18nStore] ✅ Locale preloaded: ${e}`)}catch(t){console.error(`[I18nStore] Error preloading locale '${e}':`,t)}},async preloadLocales(e){try{console.log("[I18nStore] Preloading locales:",e),await m.preloadLocales(e),console.log("[I18nStore] ✅ Locales preloaded:",e)}catch(t){console.error("[I18nStore] Error preloading locales:",t)}},async preloadCommonLocales(){try{const e=["en","vi"];await this.preloadLocales(e)}catch(e){console.error("[I18nStore] Error preloading common locales:",e)}},clearCache(){try{m.clearCache(),console.log("[I18nStore] ✅ Cache cleared")}catch(e){console.error("[I18nStore] Error clearing cache:",e)}},getCacheStats(){return m.getMetrics()},getMetrics(){return m.getMetrics()},getErrorStats(){return m.getErrorStats()},getStatistics(){return{metrics:this.getMetrics(),errorStats:this.getErrorStats(),cacheStats:this.getCacheStats(),currentLocale:this.currentLocale,loadedLocales:this.loadedLocales,isLoading:this.isLoading}},addObserver(e){m.addObserver(e)},removeObserver(e){m.removeObserver(e)},isLocaleLoading(e){return m.isLoading&&this.loadedLocales.includes(e)},getLocaleDisplayName(e){const t=w(e);return t?t.nativeName:e},getLocaleFlag(e){const t=w(e);return t?t.flag:"🌐"},getLocaleDirection(e){const t=w(e);return t?t.direction:"ltr"},formatNumber(e,t){const o=t||this.currentLocale;try{return new Intl.NumberFormat(o).format(e)}catch(r){return console.warn(`[I18nStore] Error formatting number for locale '${o}':`,r),e.toString()}},formatDate(e,t){const o=t||this.currentLocale;try{return new Intl.DateTimeFormat(o).format(e)}catch(r){return console.warn(`[I18nStore] Error formatting date for locale '${o}':`,r),e.toLocaleDateString()}},formatCurrency(e,t){const o=t||this.currentLocale,r=w(o);if(!r?.currency)return e.toString();try{return new Intl.NumberFormat(o,{style:"currency",currency:r.currency}).format(e)}catch(n){return console.warn(`[I18nStore] Error formatting currency for locale '${o}':`,n),`${e} ${r.currency}`}},async initialize(){try{console.log("[I18nStore] Initializing enterprise i18n store..."),await m.initialize(),console.log("[I18nStore] ✅ Enterprise i18n store initialized")}catch(e){throw console.error("[I18nStore] Failed to initialize:",e),e}},destroy(){try{m.destroy(),console.log("[I18nStore] ✅ Enterprise i18n store destroyed")}catch(e){console.error("[I18nStore] Error destroying store:",e)}}}}),we={class:"locale-switcher"},Ce={class:"locale-dropdown"},Re=["disabled"],$e={class:"locale-flag"},Oe={class:"locale-name"},Te={key:0,class:"locale-dropdown-menu"},De=["onClick"],Ne={class:"locale-flag"},ke={class:"locale-name"},Ve={class:"locale-native"},Fe={key:0,class:"locale-loading"},qe={class:"loading-text"},Ue={__name:"LocaleSwitcher",setup(e){const t=ee(),o=ce(!1),r=ie(()=>t.currentLocaleInfo),n=()=>{o.value=!o.value},s=async c=>{try{await t.setLocale(c),o.value=!1}catch(l){console.error("Failed to switch locale:",l)}},a=c=>{c.target.closest(".locale-switcher")||(o.value=!1)};return de(()=>{document.addEventListener("click",a)}),ue(()=>{document.removeEventListener("click",a)}),(c,l)=>(A(),S("div",we,[g("div",Ce,[g("button",{onClick:n,class:"locale-button",disabled:I(t).isLoading},[g("span",$e,y(r.value?.flag),1),g("span",Oe,y(r.value?.name),1),g("span",{class:F(["locale-arrow",{rotated:o.value}])},"▼",2)],8,Re),o.value?(A(),S("div",Te,[(A(!0),S(W,null,le(I(t).supportedLocales,u=>(A(),S("button",{key:u.code,onClick:h=>s(u.code),class:F(["locale-option",{active:u.code===I(t).currentLocale}])},[g("span",Ne,y(u.flag),1),g("span",ke,y(u.name),1),g("span",Ve,y(u.nativeName),1)],10,De))),128))])):V("",!0)]),I(t).isLoading?(A(),S("div",Fe,[l[0]||(l[0]=g("span",{class:"loading-spinner"},null,-1)),g("span",qe,y(c.$t("common.loading")),1)])):V("",!0)]))}},oe=Y(Ue,[["__scopeId","data-v-b72fd750"]]),Me=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),Ge={style:{padding:"1rem","background-color":"#f0f0f0",display:"flex",gap:"1rem","align-items":"center","justify-content":"space-between"}},ze={style:{display:"flex",gap:"1rem"}},xe={__name:"App",setup(e){const t=L();return(o,r)=>{const n=q("router-link"),s=q("router-view");return A(),S(W,null,[g("nav",Ge,[g("div",ze,[P(n,{to:"/sign-up"},{default:C(()=>[...r[2]||(r[2]=[g("button",{style:{padding:"0.5rem 1rem","background-color":"#007bff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Sign Up ",-1)])]),_:1}),P(n,{to:"/log-in"},{default:C(()=>[...r[3]||(r[3]=[g("button",{style:{padding:"0.5rem 1rem","background-color":"#007bff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Log In ",-1)])]),_:1}),P(n,{to:"/dashboard"},{default:C(()=>[...r[4]||(r[4]=[g("button",{style:{padding:"0.5rem 1rem","background-color":"#007bff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Dashboard ",-1)])]),_:1}),P(n,{to:"/discover"},{default:C(()=>[...r[5]||(r[5]=[g("button",{style:{padding:"0.5rem 1rem","background-color":"#007bff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Discover ",-1)])]),_:1}),P(n,{to:"/shop"},{default:C(()=>[...r[6]||(r[6]=[g("button",{style:{padding:"0.5rem 1rem","background-color":"#007bff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Shop ",-1)])]),_:1}),g("button",{onClick:r[0]||(r[0]=a=>I(t).simulateRole("creator",{onboardingPassed:!1,kycPassed:!1})),style:{padding:"0.5rem 1rem","background-color":"#28a745",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Simulate Creator (Incomplete) "),g("button",{onClick:r[1]||(r[1]=a=>I(t).simulateRole("customer",{onboardingPassed:!0})),style:{padding:"0.5rem 1rem","background-color":"#28a745",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Simulate Customer (Complete) ")]),P(oe)]),P(s)],64)}}},je=Y(xe,[["__scopeId","data-v-79cc0e4d"]]),Je="modulepreload",He=function(e){return"/"+e},G={},d=function(t,o,r){let n=Promise.resolve();if(o&&o.length>0){let l=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");n=l(o.map(u=>{if(u=He(u),u in G)return;G[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const i=document.createElement("link");if(i.rel=h?"stylesheet":Je,h||(i.as="script"),i.crossOrigin="",i.href=u,c&&i.setAttribute("nonce",c),document.head.appendChild(i),h)return new Promise((f,v)=>{i.addEventListener("load",f),i.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return n.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})},R=JSON.parse('[{"slug":"/","redirect":"/log-in","section":"auth","preLoadSections":[]},{"slug":"/test-translation","section":"misc","requiresAuth":false,"componentPath":"@/components/TestTranslation.vue","preLoadSections":[]},{"slug":"/log-in","section":"auth","requiresAuth":false,"redirectIfLoggedIn":"/dashboard","supportedRoles":[],"componentPath":"@/components/auth/log-in.vue","preLoadSections":["dashboard"]},{"slug":"/sign-up","section":"auth","requiresAuth":false,"redirectIfLoggedIn":"/dashboard","supportedRoles":[],"componentPath":"@/components/auth/sign-up.vue","preLoadSections":["dashboard"]},{"slug":"/sign-up/onboarding","section":"auth","requiresAuth":true,"redirectIfNotAuth":"/log-in","supportedRoles":["creator"],"componentPath":"@/components/auth/sign-up-onboarding.vue","preLoadSections":["dashboard"],"dependencies":{"roles":{"creator":{"kycPassed":{"required":false,"fallbackSlug":"/dashboard"}}}}},{"slug":"/sign-up/onboarding/kyc","section":"auth","requiresAuth":true,"redirectIfNotAuth":"/log-in","supportedRoles":["creator"],"componentPath":"@/components/auth/sign-up-onboarding-kyc.vue","preLoadSections":["dashboard"],"dependencies":{"roles":{"creator":{"kycPassed":{"required":false,"fallbackSlug":"/dashboard"}}}}},{"slug":"/sign-up/onboarding/kyc/status","section":"auth","requiresAuth":true,"redirectIfNotAuth":"/log-in","supportedRoles":["creator"],"componentPath":"@/components/auth/sign-up/onboarding-kyc-status.vue","preLoadSections":["dashboard"],"dependencies":{"roles":{"creator":{"kycPassed":{"required":false,"fallbackSlug":"/dashboard"}}}}},{"slug":"/lost-password","section":"auth","redirectIfLoggedIn":"/dashboard","requiresAuth":false,"supportedRoles":[],"componentPath":"@/components/auth/lost-password.vue","preLoadSections":["dashboard"]},{"slug":"/reset-password","section":"auth","requiresAuth":false,"redirectIfLoggedIn":"/dashboard","supportedRoles":[],"componentPath":"@/components/auth/reset-password.vue","preLoadSections":["dashboard"]},{"slug":"/confirm-email","section":"auth","requiresAuth":false,"redirectIfLoggedIn":"/dashboard","supportedRoles":[],"componentPath":"@/components/auth/confirm-email.vue","preLoadSections":["dashboard"]},{"slug":"/dashboard","section":"dashboard","requiresAuth":true,"supportedRoles":["any"],"redirectIfNotAuth":"/log-in","componentPath":"@/components/dashboard/index.vue","dependencies":{"roles":{"creator":{"onboardingPassed":{"required":true,"fallbackSlug":"/sign-up/onboarding"},"kycPassed":{"required":true,"fallbackSlug":"/sign-up/onboarding/kyc"}},"vendor":{"onboardingPassed":{"required":true,"fallbackSlug":"/sign-up/onboarding"}},"agent":{"onboardingPassed":{"required":true,"fallbackSlug":"/sign-up/onboarding"}}}},"preLoadSections":["profile"],"redirect":"/dashboard/overview"},{"slug":"/dashboard/overview","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/dashboardOverviewCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/dashboardOverviewVendor.vue"},"customer":{"componentPath":"@/components/dashboard/dashboardOverviewCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/dashboardOverviewAgent.vue"}}},{"slug":"/dashboard/fan-media","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/fanMediaCreator.vue"},"customer":{"componentPath":"@/components/dashboard/fanMediaCustomer.vue"}}},{"slug":"/dashboard/my-media","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/myMediaCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/myMediaVendor.vue"},"customer":{"componentPath":"@/components/dashboard/myMediaCustomer.vue"}}},{"slug":"/dashboard/edit-profile","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/dashboardEditProfileCreator.vue"}}},{"slug":"/dashboard/edit-settings","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/dashboardEditSettingsCreator.vue"}}},{"slug":"/dashboard/shop/custom-product-request","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/shop/customProductRequestCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/shop/customProductRequestVendor.vue"},"customer":{"componentPath":"@/components/dashboard/shop/customProductRequestCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/shop/customProductRequestAgent.vue"}}},{"slug":"/dashboard/shop/purchases","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/shop/purchasesCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/shop/purchasesVendor.vue"},"customer":{"componentPath":"@/components/dashboard/shop/purchasesCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/shop/purchasesAgent.vue"}}},{"slug":"/dashboard/chats","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/chatsCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/chatsVendor.vue"},"customer":{"componentPath":"@/components/dashboard/chatsCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/chatsAgent.vue"}}},{"slug":"/dashboard/subscriptions","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/subscriptionsCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/subscriptionsVendor.vue"},"customer":{"componentPath":"@/components/dashboard/subscriptionsCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/subscriptionsAgent.vue"}}},{"slug":"/dashboard/following","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/followingCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/followingVendor.vue"},"customer":{"componentPath":"@/components/dashboard/followingCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/followingAgent.vue"}}},{"slug":"/dashboard/followers","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/followersCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/followersVendor.vue"},"customer":{"componentPath":"@/components/dashboard/followersCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/followersAgent.vue"}}},{"slug":"/dashboard/settings/account","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/settings/accountCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/settings/accountVendor.vue"},"customer":{"componentPath":"@/components/dashboard/settings/accountCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/settings/accountAgent.vue"}}},{"slug":"/dashboard/settings/addresses","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/settings/addressesCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/settings/addressesVendor.vue"},"customer":{"componentPath":"@/components/dashboard/settings/addressesCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/settings/addressesAgent.vue"}}},{"slug":"/dashboard/settings/newsletter","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/settings/newsletterCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/settings/newsletterVendor.vue"},"customer":{"componentPath":"@/components/dashboard/settings/newsletterCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/settings/newsletterAgent.vue"}}},{"slug":"/dashboard/payout","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/payoutCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/payoutVendor.vue"},"customer":{"componentPath":"@/components/dashboard/payoutCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/payoutAgent.vue"}}},{"slug":"/dashboard/notification-preferences","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/notificationPreferencesCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/notificationPreferencesVendor.vue"},"customer":{"componentPath":"@/components/dashboard/notificationPreferencesCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/notificationPreferencesAgent.vue"}}},{"slug":"/dashboard/settings/private-chat","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/settings/privateChatCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/settings/privateChatVendor.vue"},"customer":{"componentPath":"@/components/dashboard/settings/privateChatCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/settings/privateChatAgent.vue"}}},{"slug":"/dashboard/settings/subscription","section":"dashboard","inheritConfigFromParent":true,"customComponentPath":{"creator":{"componentPath":"@/components/dashboard/settings/subscriptionCreator.vue"},"vendor":{"componentPath":"@/components/dashboard/settings/subscriptionVendor.vue"},"customer":{"componentPath":"@/components/dashboard/settings/subscriptionCustomer.vue"},"agent":{"componentPath":"@/components/dashboard/settings/subscriptionAgent.vue"}}},{"slug":"/profile","section":"profile","requiresAuth":false,"supportedRoles":["any"],"componentPath":"@/components/profile/index.vue","preLoadSections":[]},{"slug":"/discover","section":"discover","requiresAuth":true,"supportedRoles":["all"],"redirectIfNotAuth":"/log-in","componentPath":"@/components/discover/index.vue","dependencies":{"onboardingRequired":{"fallbackSlug":"/onboarding"}}},{"slug":"/shop","requiresAuth":true,"section":"shop","supportedRoles":["all"],"redirectIfNotAuth":"/log-in","componentPath":"@/components/shop/index.vue","dependencies":{"onboardingRequired":{"fallbackSlug":"/onboarding"}}},{"slug":"/shop/@:username/products/:title","section":"shop","requiresAuth":true,"supportedRoles":["all"],"redirectIfNotAuth":"/log-in","componentPath":"@/components/shop/_username/products/_title.vue","dependencies":{"onboardingRequired":{"fallbackSlug":"/onboarding"}}},{"slug":"/@:username","section":"shop","requiresAuth":false,"dynamicRoute":true,"componentPath":"@/components/_username.vue","dependencies":{"checkUsernameInDB":true}},{"slug":"/404","section":"misc","requiresAuth":false,"supportedRoles":[],"componentPath":"@/components/NotFound.vue","preLoadSections":[]},{"slug":"/:pathMatch(.*)*","redirect":"/404"}]'),Ke=Object.assign({"/src/components/LocaleSwitcher.vue":()=>d(()=>Promise.resolve().then(()=>Me),void 0),"/src/components/NavBar.vue":()=>d(()=>import("./NavBar-CA6JnITL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),"/src/components/NotFound.vue":()=>d(()=>import("./section-misc-D24dFHj8.js"),__vite__mapDeps([8,5,1,2,3,4,6])),"/src/components/_username.vue":()=>d(()=>import("./_username-CzQ0MxWy.js"),__vite__mapDeps([9,5,1,2,3,4,6])),"/src/components/auth/confirm-email.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.B),__vite__mapDeps([1,2,3,4])),"/src/components/auth/log-in.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.C),__vite__mapDeps([1,2,3,4])),"/src/components/auth/lost-password.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.D),__vite__mapDeps([1,2,3,4])),"/src/components/auth/reset-password.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.E),__vite__mapDeps([1,2,3,4])),"/src/components/auth/sign-up-onboarding-kyc.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.G),__vite__mapDeps([1,2,3,4])),"/src/components/auth/sign-up-onboarding.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.H),__vite__mapDeps([1,2,3,4])),"/src/components/auth/sign-up.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.I),__vite__mapDeps([1,2,3,4])),"/src/components/auth/sign-up/onboarding-kyc-status.vue":()=>d(()=>import("./section-auth-CnTxakFq.js").then(e=>e.J),__vite__mapDeps([1,2,3,4])),"/src/components/dashboard/chatsCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.c),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/dashboardEditProfileCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.d),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/dashboardEditSettingsCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.a),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/dashboardMyMediaCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.b),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/dashboardOverviewAgent.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.e),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/dashboardOverviewCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.f),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/dashboardOverviewCustomer.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.g),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/dashboardOverviewVendor.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.h),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/fanMediaCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.i),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/fanMediaCustomer.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.j),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/followersCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.k),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/followingCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.l),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/index.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.m),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/myMediaCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.n),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/myMediaCustomer.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.o),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/myMediaVendor.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.p),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/notificationPreferencesCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.q),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/payoutCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.r),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/settings/accountCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.s),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/settings/addressesCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.t),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/settings/newsletterCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.u),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/settings/privateChatCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.v),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/settings/subscriptionCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.w),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/shop/customProductRequestCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.x),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/shop/purchasesCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.y),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/dashboard/subscriptionsCreator.vue":()=>d(()=>import("./section-dashboard-C2kUarfu.js").then(e=>e.z),__vite__mapDeps([5,1,2,3,4,6])),"/src/components/discover/index.vue":()=>d(()=>import("./section-discover-BhOJSphT.js"),__vite__mapDeps([10,1,2,3,4])),"/src/components/profile/index.vue":()=>d(()=>import("./section-profile-BNgyh5OU.js"),__vite__mapDeps([11,5,1,2,3,4,6])),"/src/components/shop/_username/products/_title.vue":()=>d(()=>import("./section-shop-DCIUJTGF.js").then(e=>e._),__vite__mapDeps([12,5,1,2,3,4,6])),"/src/components/shop/index.vue":()=>d(()=>import("./section-shop-DCIUJTGF.js").then(e=>e.i),__vite__mapDeps([12,5,1,2,3,4,6]))});function $(e){if(!e||typeof e!="string")return()=>Promise.reject(new Error("lazy(): invalid path"));if(e.includes("App.vue"))return()=>Promise.reject(new Error("lazy(): cannot dynamically load App.vue"));let t=e.replace(/^@\/?/,"/src/");t.startsWith("/")||(t=`/${t}`);const o=Ke[t];return o||(()=>Promise.reject(new Error(`lazy(): component not found for path ${t}`)))}const O=new Map,z=new Set;function Be(e){try{const t=e.startsWith("http")?e:new URL(e,location.href).href;return new URL(t).hostname}catch{return location.hostname}}async function We(e,t,o){const r=[],n=[];for(const s of e){r.length>=o&&await Promise.race(r);const a=t(s).finally(()=>{const c=r.indexOf(a);c!==-1&&r.splice(c,1)});r.push(a),n.push(a)}return Promise.all(n)}async function x(e,t){if(e.length===0)return;const o={};e.forEach(n=>{const s=Be(n);o[s]||(o[s]=[]),o[s].push(n)});const r=[];for(const n in o)r.push(We(o[n],s=>Ye(s,t),5));await Promise.all(r)}function Ye(e,t=!1){if(!e)return console.warn(`[${t?"PRELOAD":"PREFETCH"}] Skipping invalid asset URL: ${e}`),Promise.resolve();if(t&&z.has(e))return Promise.resolve();const o=e.split(".").pop().toLowerCase();let r=O.get(e);return r||(r=new Promise((n,s)=>{const a=document.createElement("link");a.rel=t?"preload":"prefetch",a.href=e,["js","mjs"].includes(o)?a.as="script":o==="css"?a.as="style":["jpg","jpeg","png","gif","svg","webp"].includes(o)&&(a.as="image"),a.onload=()=>{n()},a.onerror=s,document.head.appendChild(a)}).catch(n=>{throw console.error(`[${t?"PRELOAD":"PREFETCH"}] Failed to ${t?"preload":"prefetch"} ${e}`,n),O.delete(e),n}),O.set(e,r)),t?r.then(()=>{let n;if(o==="css"){const s=document.createElement("link");s.rel="stylesheet",s.href=e,document.head.appendChild(s),n=new Promise((a,c)=>{s.onload=()=>{a()},s.onerror=c})}else if(["js","mjs"].includes(o)){const s=document.createElement("script");s.src=e,s.defer=!0,document.head.appendChild(s),n=new Promise((a,c)=>{s.onload=()=>{a()},s.onerror=c})}else if(["jpg","jpeg","png","gif","svg","webp"].includes(o)){const s=new Image;s.src=e,n=new Promise((a,c)=>{s.onload=()=>{a()},s.onerror=c})}else n=Promise.resolve();return n}).then(()=>{z.add(e)}).catch(n=>{throw console.error(`[APPLY] Failed to apply ${e}`,n),n}):r}const j="sectionsActivated",J="sectionsActivatedVersion",H="dev-1.0.0",te=B("sections",{state:()=>({activated:{auth:!1,dashboard:!1,profile:!1,discover:!1,shop:!1,misc:!1},activating:{}}),actions:{hydrate(){if(localStorage.getItem(J)===H){const t=localStorage.getItem(j);t?this.activated={...this.activated,...JSON.parse(t)}:console.log("[HYDRATE] No stored sections found")}else console.log("[HYDRATE] Version mismatch, resetting activated sections"),this.reset(),localStorage.setItem(J,H)},reset(){this.activated={auth:!1,dashboard:!1,profile:!1,discover:!1,shop:!1,misc:!1},this.persist()},persist(){localStorage.setItem(j,JSON.stringify(this.activated)),console.log(`[PERSIST] Sections state saved to localStorage: ${JSON.stringify(this.activated)}`)},markActivated(e){this.activated[e]?console.log(`[SECTION] "${e}" already activated, no change`):(this.activated[e]=!0,console.log(`[SECTION] Marked "${e}" as activated`),this.persist())},isActivated(e){const t=this.activated[e];return console.log(`[SECTION] Checking activation for "${e}": ${t?"activated":"not activated"}`),t},async activateSection(e,t){if(console.log(`[ACTIVATE] Attempting to activate "${e}"`),this.isActivated(e)){console.log(`[ACTIVATE] "${e}" already activated`);return}if(this.activating[e]){console.log(`[ACTIVATE] Waiting for ongoing activation of "${e}"`),await this.activating[e];return}console.log(`[ACTIVATE] Starting activation for "${e}"`);const o=t().then(()=>{this.markActivated(e)}).catch(r=>{console.error(`[ACTIVATE] Error activating "${e}":`,r)}).finally(()=>{delete this.activating[e]});this.activating[e]=o,await o}}});function _(e){return e.replace(/-/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function K(e,t){return e.customComponentPath?.[t]?.componentPath||e.componentPath}function Qe(e){async function t(o,r,n=!1){console.log(`➡️ Preloading section "${o}" (apply=${n})`);const s=performance.now(),a=R.filter(p=>p.section===o&&!p.redirect);console.log(`[SECTION] Found ${a.length} routes to preload in section "${o}": ${a.map(p=>p.slug).join(", ")}`);const c=new Set,l=a.map(async p=>{const i=K(p,r);if(!i){console.warn(`[COMPONENT] No component path for route "${p.slug}" in section "${o}"`);return}console.log(`[COMPONENT] Loading component for route "${p.slug}" in section "${o}": ${i}`);try{const f=await $(i)();console.log(`[COMPONENT] Loaded component for "${p.slug}"`);const v=Xe(f);[...v.critical,...v.high,...v.normal].forEach(ae=>c.add(ae))}catch(f){console.error(`[ERROR] Failed to load component for "${p.slug}"`,f)}});await Promise.all(l);const u=[...c];console.log(`[ASSETS] Total unique assets for section "${o}": ${u.length} [${u.join(", ")}]`),await x(u,n);const h=performance.now()-s;console.log(`✅ Preloaded section "${o}" in ${h.toFixed(2)}ms`)}e.beforeEach(async(o,r,n)=>{const s=o.meta?.section,a=o.meta?.slug;if(!s)return console.log(`[ROUTING] No section defined for route "${o.path}"`),n();const c=L();if(s==="dashboard"&&!c.currentUser)return console.log(`[ROUTING] Skipping preload for protected section "${s}" without user`),n();const l=c.simulate?.role||c.currentUser?.role||"creator";console.log(`[ROUTING] Checking route "${o.path}", section "${s}", role "${l}"`);const u=K(o.meta,l);if(!u)return console.log(`[ROUTING] No component path for "${o.path}", redirecting to /404`),n("/404");let h;try{console.log(`[COMPONENT] Loading current component for "${a}": ${u}`),h=await $(u)(),console.log(`[COMPONENT] Loaded current component for "${a}"`),console.log(`[TEMPLATE] Vue template ready for "${a}"`)}catch(f){return console.error(`[ERROR] Failed to load component for "${a}"`,f),n("/404")}const p=h.assets||{critical:[],high:[],normal:[]},i=[...new Set([...p.critical,...p.high,...p.normal])];console.log(`[ASSETS] Assets for current "${a}": ${JSON.stringify(p)}`),console.log(`[ASSETS] Total unique assets for current: ${i.length} [${i.join(", ")}]`),o.meta._assetPromise=x(i,!0),n()}),e.afterEach(async o=>{const r=o.meta?.section,n=o.meta?.slug;if(!r)return;const s=performance.now();console.log(`
[ROUTING] Section activation for "${r}" (route "${o.path}")`);const a=new Promise(i=>{document.readyState==="complete"?(console.log(`[DOM] Document already fully loaded for "${_(n)}"`),i()):window.addEventListener("load",()=>{console.log(`[DOM] Document fully loaded for "${_(n)}"`),i()},{once:!0})});console.log(`✅ Step 1: Waiting for full page load for "${_(n)}"`),await a,console.log(`✅ Step 1: Full page load complete for "${_(n)}"`),console.log(`✅ Step 2: Waiting for current assets apply for "${_(n)}"`),await o.meta._assetPromise,console.log(`✅ Step 2: Applied all current assets for "${_(n)}"`);const c=L(),l=c.simulate?.role||c.currentUser?.role||"creator",u=te();console.log(`➡️ Step 3: Preloading current section "${_(r)}" (if not activated)`),await u.activateSection(r,()=>t(r,l,!1));let h=o.meta.preLoadSections||[];if(h=[...new Set([...h,"auth"])].filter(i=>i!==r),h.length>0){console.log(`➡️ Step 4: Preloading config sections (including auth): ${h.map(_).join(", ")}`);for(const i of h){if(i==="dashboard"&&!c.currentUser){console.log(`♻️ Skipping preload for "${_(i)}" (no user)`);continue}await u.activateSection(i,()=>t(i,l,!1))}}else console.log("♻️ No additional sections to preload");const p=(performance.now()-s).toFixed(2);console.log(`✨ Done: "${_(n)}" fully ready (total ${p}ms)`)})}function Xe(e){return e.assets||{critical:[],high:[],normal:[]}}function T(e){return e.replace(/\/+$/,"").split("?")[0].split("#")[0]||"/"}function re(e){const t=T(e);let o=R.find(r=>T(r.slug)===t||r.dynamicRoute&&r.slug.includes("/:")&&t.match(new RegExp(r.slug.replace(/:[^/]+/g,"[^/]+"))));if(o?.inheritConfigFromParent){const r=R.find(n=>n.slug==="/dashboard");o={...r,...o,requiresAuth:r.requiresAuth,redirectIfNotAuth:r.redirectIfNotAuth}}return o}function Ze(e){const t=T(e).split("/"),o=[];for(;t.length>1;){t.pop();const r=t.join("/")||"/",n=re(r);n?.inheritConfigFromParent&&o.push(n)}return o.reverse()}function eo(e,t,o){const r=L(),n=r.simulate||r.currentUser;console.log(`[GUARD] Navigation request to "${e.path}" from "${t.path}"`);const s=re(e.path),a=Math.floor(Date.now()/1e3);if(n?.raw?.exp&&a>=n.raw.exp)return console.log("[GUARD] Token expired -> logging out & redirect to /log-in"),r.logout(),o("/log-in");if(s?.requiresAuth){if(console.log(`[GUARD] Route ${e.path} requires auth`),!n)return console.warn(`[GUARD] No user session -> redirect to ${s.redirectIfNotAuth||"/log-in"}`),o(s.redirectIfNotAuth||"/log-in");console.log("[GUARD] Auth check passed → user logged in:",n)}else console.log("[GUARD] Routes does not require auth");if(s?.redirectIfLoggedIn&&n){if(n)return console.warn(`[GUARD] User already logged in -> redirect to ${s.redirectIfLoggedIn}`),o(s.redirectIfLoggedIn);console.log("[GUARD] RedirectIfLoggedIn not triggered → user not logged in")}if(!s)return console.error(`[GUARD] No matching route for "${e.path}" -> redirect to /404`),o("/404");if(s.supportedRoles?.length&&!["any","all"].includes(s.supportedRoles[0])&&(console.log(`[GUARD] Route supports roles: ${s.supportedRoles.join(", ")}`),!s.supportedRoles.includes(n?.role)))return console.warn(`[GUARD]  User role "${n?.role}" not allowed → redirect to /dashboard`),o("/dashboard");const l=[...Ze(e.path),s];for(const u of l){const h=u.dependencies||{},p=h.roles?.[n?.role]||{};console.log(`[GUARD] 🔎 Checking dependencies for route "${u.slug}" with role="${n?.role}"`);for(const[i,f]of Object.entries(p)){const v=n?.[i];if(f?.required)if(v)console.log(`[GUARD][PASS] Role-based dep "${i}" required=true, user.${i}=${v}`);else return console.warn(`[GUARD][FAIL] Role-based dep "${i}" required=true, but user.${i}=${v} → redirect to ${f.fallbackSlug||"/404"}`),o(f.fallbackSlug||"/404");else console.log(`[GUARD][SKIP] Role-based dep "${i}" required=false (no check needed)`)}for(const[i,f]of Object.entries(h)){if(i==="roles")continue;const v=n?.[i];if(f?.required)if(v)console.log(`[GUARD][PASS] General dep "${i}" required=true, user.${i}=${v}`);else return console.warn(`[GUARD][FAIL] General dep "${i}" required=true, but user.${i}=${v} → redirect to ${f.fallbackSlug||"/404"}`),o(f.fallbackSlug||"/404");else console.log(`[GUARD][SKIP] General dep "${i}" required=false (no check needed)`)}}console.log(`[GUARD]  All checks passed → allow navigation to "${e.path}"`),o()}const E=new Map;function oo(e){const t={path:e.slug,meta:e};return e.redirect?t.redirect=e.redirect:e.customComponentPath?t.component=async()=>{const o=L(),r=o.simulate?.role||o.currentUser?.role||"default",n=e.customComponentPath[r]?.componentPath,s=`${e.slug}:${r}`;if(E.has(s))return E.get(s);e._cachedCompPath||(e._cachedCompPath=n||"@/components/NotFound.vue");const a=n?await $(n)():await d(()=>import("./section-misc-D24dFHj8.js"),__vite__mapDeps([8,5,1,2,3,4,6]));return E.set(s,a),a}:t.component=async()=>{const o=e.slug;if(E.has(o))return E.get(o);const r=e.componentPath?await $(e.componentPath)():await d(()=>import("./section-misc-D24dFHj8.js"),__vite__mapDeps([8,5,1,2,3,4,6]));return E.set(o,r),r},t}const ne=R.map(oo),b=pe({history:he("/"),routes:ne});let se,D=!1;b.beforeEach((e,t,o)=>{se=performance.now(),console.log(`[ROUTE] Incoming navigation request: "${e.path}"`),console.log("[CHECK] Looking for matching route configuration...");const r=ne.find(s=>s.path===e.path);if(console.log(`[ROUTE] Searching route config for path: "${e.path}"`),!r)return console.log(`[404] No route found for "${e.path}". Redirecting to /404.`),o("/404");console.log(`[FOUND] Route configuration located for "${e.path}".`);const n=r.meta?.section;console.log(n?`[SECTION] Route "${e.path}" belongs to section "${n}".`:`[SECTION] Route "${e.path}" does not specify a section.`),D=!0,o()});b.afterEach(async e=>{if(!D)return;const t=(performance.now()-se).toFixed(2);console.log(`[DONE] Navigation to "${e.path}" finished in ${t}ms.`),D=!1});b.beforeEach(eo);Qe(b);async function to(){const e=me(je),t=ge();t.use(Le),e.use(t),await m.initialize();const o=L(),r=te();ee(),o.refreshFromStorage(),r.hydrate(),b.isReady().then(()=>{const n=["/log-in","/sign-up","/lost-password","/reset-password","/confirm-email","/"];n.includes(b.currentRoute.value.path)?console.log("[MAIN] Skipping session restoration on public route:",b.currentRoute.value.path):fe.restoreSession().then(({idToken:s,accessToken:a,refreshToken:c})=>{console.log("[MAIN] Session restored, setting token"),localStorage.setItem("idToken",s),localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",c),o.setTokenAndDecode(s),o.startTokenRefreshLoop()}).catch(s=>{console.log("[MAIN] Session restoration failed:",s.message||s),o.logout(),n.includes(b.currentRoute.value.path)||b.push("/log-in")})}),e.use(b),e.use(m.vueI18nInstance),e.mount("#app")}to().catch(console.error);
//# sourceMappingURL=index-RLGEGbMZ.js.map
