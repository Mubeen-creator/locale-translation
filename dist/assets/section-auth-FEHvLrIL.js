import{r as i,b as c,d as e,e as m,w as h,v as b,g as C,t as n,h as y,i as p,j as v,u as $,o as w,k}from"./route-auth-login-BCIYBGhu.js";import{t as K}from"./translation-utils-CToZdure.js";const S={key:0},Y={critical:["/css/auth.css"],high:[],normal:["/images/auth-bg.jpg"]},O={__name:"confirm-email",setup(_){const r=i(""),t=i(""),o=i(""),u=y();async function l(){try{await v.confirmSignUp(r.value,t.value),u.push("/log-in")}catch(s){o.value=s.message||"Confirmation failed"}}return(s,a)=>(p(),c("div",null,[a[3]||(a[3]=e("h1",null,"Confirm Email",-1)),e("form",{onSubmit:C(l,["prevent"])},[h(e("input",{"onUpdate:modelValue":a[0]||(a[0]=g=>r.value=g),type:"email",placeholder:"Email",required:""},null,512),[[b,r.value]]),h(e("input",{"onUpdate:modelValue":a[1]||(a[1]=g=>t.value=g),type:"text",placeholder:"Confirmation Code",required:""},null,512),[[b,t.value]]),a[2]||(a[2]=e("button",{type:"submit"},"Confirm",-1))],32),o.value?(p(),c("p",S,n(o.value),1)):m("",!0)]))}},Z=Object.freeze(Object.defineProperty({__proto__:null,assets:Y,default:O},Symbol.toStringTag,{value:"Module"})),P={key:0},j={key:1},U={critical:["/css/auth.css"],high:[],normal:["/images/auth-bg.jpg"]},T={__name:"lost-password",setup(_){const r=i(""),t=i(""),o=i("");async function u(){try{await v.forgotPassword(r.value),t.value="Reset code sent to your email."}catch(l){o.value=l.message||"Failed to send code"}}return(l,s)=>(p(),c("div",null,[s[2]||(s[2]=e("h1",null,"Lost Password",-1)),e("form",{onSubmit:C(u,["prevent"])},[h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>r.value=a),type:"email",placeholder:"Email",required:""},null,512),[[b,r.value]]),s[1]||(s[1]=e("button",{type:"submit"},"Send Reset Code",-1))],32),t.value?(p(),c("p",P,n(t.value),1)):m("",!0),o.value?(p(),c("p",j,n(o.value),1)):m("",!0)]))}},ee=Object.freeze(Object.defineProperty({__proto__:null,assets:U,default:T},Symbol.toStringTag,{value:"Module"})),M={key:0},E={key:1},F={critical:["/css/auth.css"],high:[],normal:["/images/auth-bg.jpg"]},R={__name:"reset-password",setup(_){const r=i(""),t=i(""),o=i(""),u=i(""),l=i(""),s=y();async function a(){try{await v.confirmPassword(r.value,t.value,o.value),u.value="Password reset successful. Please log in.",s.push("/log-in")}catch(g){l.value=g.message||"Reset failed"}}return(g,d)=>(p(),c("div",null,[d[4]||(d[4]=e("h1",null,"Reset Password",-1)),e("form",{onSubmit:C(a,["prevent"])},[h(e("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),type:"email",placeholder:"Email",required:""},null,512),[[b,r.value]]),h(e("input",{"onUpdate:modelValue":d[1]||(d[1]=f=>t.value=f),type:"text",placeholder:"Reset Code",required:""},null,512),[[b,t.value]]),h(e("input",{"onUpdate:modelValue":d[2]||(d[2]=f=>o.value=f),type:"password",placeholder:"New Password",required:""},null,512),[[b,o.value]]),d[3]||(d[3]=e("button",{type:"submit"},"Reset",-1))],32),u.value?(p(),c("p",M,n(u.value),1)):m("",!0),l.value?(p(),c("p",E,n(l.value),1)):m("",!0)]))}},te=Object.freeze(Object.defineProperty({__proto__:null,assets:F,default:R},Symbol.toStringTag,{value:"Module"})),V={"data-translate":"auth.register.KYC.title"},q={"data-translate":"auth.register.KYC.description"},z={key:0,"data-translate":"auth.register.KYC.error"},A={critical:["/css/onboarding.css"],high:[],normal:["/images/kyc-bg.jpg"]},B={__name:"sign-up-onboarding-kyc",setup(_){const r=y(),t=$(),o=i(""),u=i(!1);w(()=>{setTimeout(()=>{K()},100)});async function l(){const s=performance.now();console.log("[KYC] User clicked Complete KYC at:",new Date().toISOString());try{u.value=!0,console.log("[UI] Button changed to 'Please wait...'"),await v.updateProfileAttributes({"custom:kyc":"true"});const a=performance.now();console.log(`[KYC] updateProfileAttributes took ${(a-s).toFixed(2)} ms`);const{idToken:g}=await v.restoreSession(),d=performance.now();console.log(`[KYC] restoreSession took ${(d-a).toFixed(2)} ms`),console.log(`[KYC] Total KYC completion flow took ${(d-s).toFixed(2)} ms`),t.setTokenAndDecode(g),console.log("[KYC] Cognito update finished â†’ navigating to /dashboard"),r.push("/dashboard")}catch(a){o.value="Failed to complete KYC: "+(a.message||"Unknown error"),console.error("[KYC] Error during KYC completion:",a)}finally{u.value=!1,console.log("[UI] Button reset to 'Complete KYC'")}}return(s,a)=>(p(),c("div",null,[e("h1",V,n(s.$t("auth.register.KYC.title")),1),e("p",q,n(s.$t("auth.register.KYC.description")),1),e("button",{onClick:l,"data-translate":"auth.register.KYC.button"},n(u.value?s.$t("auth.common.loading"):s.$t("auth.register.KYC.button")),1),o.value?(p(),c("p",z,n(o.value),1)):m("",!0)]))}},oe=Object.freeze(Object.defineProperty({__proto__:null,assets:A,default:B},Symbol.toStringTag,{value:"Module"})),D={"data-translate":"auth.register.Onboarding.title"},I={"data-translate":"auth.register.Onboarding.description"},L={key:0,"data-translate":"auth.messages.Onboarding.error"},N={critical:["/css/onboarding.css"],high:[],normal:["/images/kyc-status-bg.jpg"]},x={__name:"sign-up-onboarding",setup(_){const r=y(),t=$(),o=i("");w(()=>{setTimeout(()=>{K()},100)});function u(){try{t.updateUserAttributesLocally({onboardingPassed:!0}),t.currentUser.role==="creator"?r.push("/sign-up/onboarding/kyc"):r.push("/dashboard")}catch{o.value="Failed to complete onboarding"}}return(l,s)=>(p(),c("div",null,[e("h1",D,n(l.$t("auth.register.Onboarding.title")),1),e("p",I,n(l.$t("auth.register.Onboarding.description")),1),e("button",{onClick:u,"data-translate":"auth.register.Onboarding.button"},n(l.$t("auth.register.Onboarding.button")),1),o.value?(p(),c("p",L,n(o.value),1)):m("",!0)]))}},se=Object.freeze(Object.defineProperty({__proto__:null,assets:N,default:x},Symbol.toStringTag,{value:"Module"})),H={"data-translate":"auth.register.KYC.status.title"},G={"data-translate":"auth.register.KYC.status.description"},J={critical:["/css/onboarding.css"],high:[],normal:["/images/onboarding-bg.jpg"]},Q={__name:"onboarding-kyc-status",setup(_){const r=$();return(t,o)=>(p(),c("div",null,[e("h1",H,n(t.$t("auth.register.KYC.status.title")),1),e("p",G,n(t.$t("auth.register.KYC.status.description"))+": "+n(k(r).currentUser.kycPassed?t.$t("auth.register.KYC.status.done"):t.$t("auth.register.KYC.status.pending")),1)]))}},ae=Object.freeze(Object.defineProperty({__proto__:null,assets:J,default:Q},Symbol.toStringTag,{value:"Module"}));export{se as a,Z as c,ee as l,ae as o,te as r,oe as s};
//# sourceMappingURL=section-auth-FEHvLrIL.js.map
